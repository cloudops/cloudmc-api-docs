
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="images/favicon.png" rel="icon" type="image/png" />

    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;js&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="js">js</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting started">Getting started</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Getting started">Authentication</a>
                  </li>
                  <li>
                    <a href="#http-verbs" class="toc-h2 toc-link" data-title="Getting started">HTTP verbs</a>
                  </li>
                  <li>
                    <a href="#responses" class="toc-h2 toc-link" data-title="Getting started">Responses</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#success-response" class="toc-h3 toc-link" data-title="Getting started">Success response</a>
                          </li>
                          <li>
                            <a href="#error-response" class="toc-h3 toc-link" data-title="Getting started">Error response</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#administration" class="toc-h1 toc-link" data-title="Administration">Administration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#administration-service-connections" class="toc-h2 toc-link" data-title="Administration">Service connections</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#administration-list-service-connections" class="toc-h3 toc-link" data-title="Administration">List service connections</a>
                          </li>
                          <li>
                            <a href="#administration-retrieve-a-service-connection" class="toc-h3 toc-link" data-title="Administration">Retrieve a service connection</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#administration-organizations" class="toc-h2 toc-link" data-title="Administration">Organizations</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#administration-list-organizations" class="toc-h3 toc-link" data-title="Administration">List organizations</a>
                          </li>
                          <li>
                            <a href="#administration-retrieve-an-organization" class="toc-h3 toc-link" data-title="Administration">Retrieve an organization</a>
                          </li>
                          <li>
                            <a href="#administration-create-organization" class="toc-h3 toc-link" data-title="Administration">Create organization</a>
                          </li>
                          <li>
                            <a href="#administration-update-organization" class="toc-h3 toc-link" data-title="Administration">Update organization</a>
                          </li>
                          <li>
                            <a href="#administration-delete-organization" class="toc-h3 toc-link" data-title="Administration">Delete organization</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#administration-users" class="toc-h2 toc-link" data-title="Administration">Users</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#administration-list-users" class="toc-h3 toc-link" data-title="Administration">List users</a>
                          </li>
                          <li>
                            <a href="#administration-retrieve-a-user" class="toc-h3 toc-link" data-title="Administration">Retrieve a user</a>
                          </li>
                          <li>
                            <a href="#administration-create-user" class="toc-h3 toc-link" data-title="Administration">Create user</a>
                          </li>
                          <li>
                            <a href="#administration-update-user" class="toc-h3 toc-link" data-title="Administration">Update user</a>
                          </li>
                          <li>
                            <a href="#administration-delete-user" class="toc-h3 toc-link" data-title="Administration">Delete user</a>
                          </li>
                          <li>
                            <a href="#administration-unlock-user" class="toc-h3 toc-link" data-title="Administration">Unlock user</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#administration-environments" class="toc-h2 toc-link" data-title="Administration">Environments</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#administration-list-environments" class="toc-h3 toc-link" data-title="Administration">List environments</a>
                          </li>
                          <li>
                            <a href="#administration-retrieve-an-environment" class="toc-h3 toc-link" data-title="Administration">Retrieve an environment</a>
                          </li>
                          <li>
                            <a href="#administration-create-environment" class="toc-h3 toc-link" data-title="Administration">Create environment</a>
                          </li>
                          <li>
                            <a href="#administration-update-environment" class="toc-h3 toc-link" data-title="Administration">Update environment</a>
                          </li>
                          <li>
                            <a href="#administration-delete-environment" class="toc-h3 toc-link" data-title="Administration">Delete environment</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#administration-usage" class="toc-h2 toc-link" data-title="Administration">Usage</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#administration-list-usage-summary" class="toc-h3 toc-link" data-title="Administration">List usage summary</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#cloudstack-plugin" class="toc-h1 toc-link" data-title="CloudStack plugin">CloudStack plugin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#working-with-sub-organizations" class="toc-h2 toc-link" data-title="CloudStack plugin">Working with sub-organizations</a>
                  </li>
                  <li>
                    <a href="#tasks" class="toc-h2 toc-link" data-title="CloudStack plugin">Tasks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#retrieve-a-task" class="toc-h3 toc-link" data-title="CloudStack plugin">Retrieve a task</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cloudstack-compute" class="toc-h2 toc-link" data-title="CloudStack plugin">Compute</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#cloudstack-instances" class="toc-h3 toc-link" data-title="CloudStack plugin">Instances</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-instances" class="toc-h4 toc-link" data-title="CloudStack plugin">List instances</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Create an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Update an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-destroy-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Destroy an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-start-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Start an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-stop-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Stop an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-reboot-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Reboot an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-purge-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Purge an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-recover-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Recover an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-change-the-compute-offering-of-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Change the compute offering of an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-reset-the-password-of-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Reset the password of an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-change-network-of-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Change network of an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-associate-an-ssh-key-to-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Associate an SSH key to an instance</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-templates" class="toc-h3 toc-link" data-title="CloudStack plugin">Templates</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-templates" class="toc-h4 toc-link" data-title="CloudStack plugin">List templates</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-template" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a template</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-ssh-keys" class="toc-h3 toc-link" data-title="CloudStack plugin">SSH keys</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-ssh-keys" class="toc-h4 toc-link" data-title="CloudStack plugin">List SSH keys</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-an-ssh-key" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve an SSH key</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-affinity-groups" class="toc-h3 toc-link" data-title="CloudStack plugin">Affinity groups</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-affinity-groups" class="toc-h4 toc-link" data-title="CloudStack plugin">List affinity groups</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-an-affinity-group" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve an affinity group</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-an-affinity-group" class="toc-h4 toc-link" data-title="CloudStack plugin">Create an affinity group</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-an-affinity-group" class="toc-h4 toc-link" data-title="CloudStack plugin">Update an affinity group</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-an-affinity-group" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete an affinity group</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cloudstack-networking" class="toc-h2 toc-link" data-title="CloudStack plugin">Networking</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#cloudstack-vpcs" class="toc-h3 toc-link" data-title="CloudStack plugin">VPCs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-vpcs" class="toc-h4 toc-link" data-title="CloudStack plugin">List VPCs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-vpc" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a VPC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-vpc" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a VPC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-a-vpc" class="toc-h4 toc-link" data-title="CloudStack plugin">Update a VPC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-destroy-a-vpc" class="toc-h4 toc-link" data-title="CloudStack plugin">Destroy a VPC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-restart-a-vpc" class="toc-h4 toc-link" data-title="CloudStack plugin">Restart a VPC</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-networks" class="toc-h3 toc-link" data-title="CloudStack plugin">Networks</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-networks" class="toc-h4 toc-link" data-title="CloudStack plugin">List networks</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-network" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a network</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-network" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a network</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-a-network" class="toc-h4 toc-link" data-title="CloudStack plugin">Update a network</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-network" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a network</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-replace-the-network-acl" class="toc-h4 toc-link" data-title="CloudStack plugin">Replace the network ACL</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-network-acls" class="toc-h3 toc-link" data-title="CloudStack plugin">Network ACLs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-network-acls" class="toc-h4 toc-link" data-title="CloudStack plugin">List network ACLs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-network-acl" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a network ACL</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-network-acl" class="toc-h4 toc-link" data-title="CloudStack plugin">Create network ACL</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-network-acl" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a network ACL</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-list-a-network-acl-39-s-rules" class="toc-h4 toc-link" data-title="CloudStack plugin">List a network ACL's rules</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-network-acl-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a network ACL rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-network-acl-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a network ACL rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-a-network-acl-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Update a network ACL rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-network-acl-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a network ACL rule</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-public-ips" class="toc-h3 toc-link" data-title="CloudStack plugin">Public IPs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-public-ips" class="toc-h4 toc-link" data-title="CloudStack plugin">List public IPs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-public-ip" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a public IP</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-acquire-a-public-ip" class="toc-h4 toc-link" data-title="CloudStack plugin">Acquire a public IP</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-release-a-public-ip" class="toc-h4 toc-link" data-title="CloudStack plugin">Release a public IP</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-enable-static-nat" class="toc-h4 toc-link" data-title="CloudStack plugin">Enable static NAT</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-disable-static-nat" class="toc-h4 toc-link" data-title="CloudStack plugin">Disable static NAT</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-port-forwarding-rules" class="toc-h3 toc-link" data-title="CloudStack plugin">Port forwarding rules</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-port-forwarding-rules" class="toc-h4 toc-link" data-title="CloudStack plugin">List port forwarding rules</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-port-forwarding-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a port forwarding rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-port-forwarding-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a port forwarding rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-port-forwarding-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a port forwarding rule</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-load-balancer-rules" class="toc-h3 toc-link" data-title="CloudStack plugin">Load balancer rules</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-load-balancer-rules" class="toc-h4 toc-link" data-title="CloudStack plugin">List load balancer rules</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a load balancer rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a load balancer rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Update a load balancer rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-instances-of-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Update instances of a load balancer rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-stickiness-policy-of-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Update stickiness policy of a load balancer rule</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-load-balancer-rule" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a load balancer rule</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-nics" class="toc-h3 toc-link" data-title="CloudStack plugin">NICs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-nics" class="toc-h4 toc-link" data-title="CloudStack plugin">List NICs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-nic" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a NIC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-nic" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a NIC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-nic" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a NIC</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-set-a-nic-as-default" class="toc-h4 toc-link" data-title="CloudStack plugin">Set a NIC as default</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-remote-access-vpns" class="toc-h3 toc-link" data-title="CloudStack plugin">Remote access VPNs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-remote-access-vpns" class="toc-h4 toc-link" data-title="CloudStack plugin">List remote access VPNs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-remote-access-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a remote access VPN</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-vpn-users" class="toc-h3 toc-link" data-title="CloudStack plugin">VPN users</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-vpn-users" class="toc-h4 toc-link" data-title="CloudStack plugin">List VPN users</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-vpn-user" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a VPN user</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-site-to-site-vpns" class="toc-h3 toc-link" data-title="CloudStack plugin">Site-to-site VPNs</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-site-to-site-vpns" class="toc-h4 toc-link" data-title="CloudStack plugin">List site-to-site VPNs</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-site-to-site-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a site-to-site VPN</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-site-to-site-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a site-to-site VPN</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-update-a-site-to-site-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Update a site-to-site VPN</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-site-to-site-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a site-to-site VPN</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-reset-the-connection-of-a-site-to-site-vpn" class="toc-h4 toc-link" data-title="CloudStack plugin">Reset the connection of a site-to-site VPN</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cloudstack-storage" class="toc-h2 toc-link" data-title="CloudStack plugin">Storage</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#cloudstack-volumes" class="toc-h3 toc-link" data-title="CloudStack plugin">Volumes</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-volumes" class="toc-h4 toc-link" data-title="CloudStack plugin">List volumes</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-volume" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a volume</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-create-a-volume" class="toc-h4 toc-link" data-title="CloudStack plugin">Create a volume</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-delete-a-volume" class="toc-h4 toc-link" data-title="CloudStack plugin">Delete a volume</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-attach-a-volume-to-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Attach a volume to an instance</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-detach-a-volume-from-an-instance" class="toc-h4 toc-link" data-title="CloudStack plugin">Detach a volume from an instance</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-snapshots" class="toc-h3 toc-link" data-title="CloudStack plugin">Snapshots</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-snapshots" class="toc-h4 toc-link" data-title="CloudStack plugin">List snapshots</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-snapshot" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a snapshot</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cloudstack-offerings" class="toc-h2 toc-link" data-title="CloudStack plugin">Offerings</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#cloudstack-vpc-offerings" class="toc-h3 toc-link" data-title="CloudStack plugin">VPC offerings</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-vpc-offerings" class="toc-h4 toc-link" data-title="CloudStack plugin">List VPC offerings</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-vpc-offering" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a VPC offering</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-network-offerings" class="toc-h3 toc-link" data-title="CloudStack plugin">Network offerings</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-network-offerings" class="toc-h4 toc-link" data-title="CloudStack plugin">List network offerings</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-network-offering" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a network offering</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-compute-offerings" class="toc-h3 toc-link" data-title="CloudStack plugin">Compute offerings</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-compute-offerings" class="toc-h4 toc-link" data-title="CloudStack plugin">List compute offerings</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-compute-offering" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a compute offering</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cloudstack-disk-offerings" class="toc-h3 toc-link" data-title="CloudStack plugin">Disk offerings</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#cloudstack-list-disk-offerings" class="toc-h4 toc-link" data-title="CloudStack plugin">List disk offerings</a>
                                  </li>
                                  <li>
                                    <a href="#cloudstack-retrieve-a-disk-offering" class="toc-h4 toc-link" data-title="CloudStack plugin">Retrieve a disk offering</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cloudstack-zones" class="toc-h2 toc-link" data-title="CloudStack plugin">Zones</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#cloudstack-list-zones" class="toc-h3 toc-link" data-title="CloudStack plugin">List zones</a>
                          </li>
                          <li>
                            <a href="#cloudstack-retrieve-a-zone" class="toc-h3 toc-link" data-title="CloudStack plugin">Retrieve a zone</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#openstack-plugin" class="toc-h1 toc-link" data-title="OpenStack plugin">OpenStack plugin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#openstack-instances" class="toc-h2 toc-link" data-title="OpenStack plugin">Instances</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-instances" class="toc-h3 toc-link" data-title="OpenStack plugin">List instances</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-an-instance" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve an instance</a>
                          </li>
                          <li>
                            <a href="#openstack-create-an-instance" class="toc-h3 toc-link" data-title="OpenStack plugin">Create an instance</a>
                          </li>
                          <li>
                            <a href="#openstack-associate-a-floating-ip" class="toc-h3 toc-link" data-title="OpenStack plugin">Associate a floating IP</a>
                          </li>
                          <li>
                            <a href="#openstack-change-security-groups" class="toc-h3 toc-link" data-title="OpenStack plugin">Change security groups</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-an-instance" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete an instance</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-networks" class="toc-h2 toc-link" data-title="OpenStack plugin">Networks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-networks" class="toc-h3 toc-link" data-title="OpenStack plugin">List networks</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-network" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a network</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-network" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a network</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-network" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a network</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-flavors" class="toc-h2 toc-link" data-title="OpenStack plugin">Flavors</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-flavors" class="toc-h3 toc-link" data-title="OpenStack plugin">List flavors</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-flavor" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a flavor</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-images" class="toc-h2 toc-link" data-title="OpenStack plugin">Images</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-images" class="toc-h3 toc-link" data-title="OpenStack plugin">List images</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-an-image" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve an image</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-floating-ips" class="toc-h2 toc-link" data-title="OpenStack plugin">Floating IPs</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-floating-ips" class="toc-h3 toc-link" data-title="OpenStack plugin">List floating IPs</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-floating-ip" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a floating IP</a>
                          </li>
                          <li>
                            <a href="#openstack-acquire-a-floating-ip" class="toc-h3 toc-link" data-title="OpenStack plugin">Acquire a floating IP</a>
                          </li>
                          <li>
                            <a href="#openstack-release-a-floating-ip" class="toc-h3 toc-link" data-title="OpenStack plugin">Release a floating IP</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-security-groups" class="toc-h2 toc-link" data-title="OpenStack plugin">Security groups</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-security-groups" class="toc-h3 toc-link" data-title="OpenStack plugin">List security groups</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-security-group" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a security group</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-security-group" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a security group</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-security-group" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a security group</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-security-group-rules" class="toc-h2 toc-link" data-title="OpenStack plugin">Security group rules</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-security-group-rules-within-a-security-group" class="toc-h3 toc-link" data-title="OpenStack plugin">List security group rules within a security group</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-security-group-rule" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a security group rule</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-security-group-rule" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a security group rule</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-security-group-rule" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a security group rule</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-routers" class="toc-h2 toc-link" data-title="OpenStack plugin">Routers</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-routers" class="toc-h3 toc-link" data-title="OpenStack plugin">List routers</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-router" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a router</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-router" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a router</a>
                          </li>
                          <li>
                            <a href="#openstack-add-a-router-interface" class="toc-h3 toc-link" data-title="OpenStack plugin">Add a router interface</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-router" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a router</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-router-interfaces" class="toc-h2 toc-link" data-title="OpenStack plugin">Router interfaces</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-router-interfaces" class="toc-h3 toc-link" data-title="OpenStack plugin">List router interfaces</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-router-interface" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a router interface</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-router-interface" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a router interface</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-router-interface" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a router interface</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-ssh-keys" class="toc-h2 toc-link" data-title="OpenStack plugin">SSH keys</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-ssh-keys" class="toc-h3 toc-link" data-title="OpenStack plugin">List SSH keys</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-ssh-key" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a SSH key</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-ssh-key" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a SSH key</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-ssh-key" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a SSH key</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-volumes" class="toc-h2 toc-link" data-title="OpenStack plugin">Volumes</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-volumes" class="toc-h3 toc-link" data-title="OpenStack plugin">List volumes</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-volume" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a volume</a>
                          </li>
                          <li>
                            <a href="#openstack-create-a-volume" class="toc-h3 toc-link" data-title="OpenStack plugin">Create a volume</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-volume" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a volume</a>
                          </li>
                          <li>
                            <a href="#openstack-attach-a-volume-to-an-instance" class="toc-h3 toc-link" data-title="OpenStack plugin">Attach a volume to an instance</a>
                          </li>
                          <li>
                            <a href="#openstack-detach-a-volume-from-an-instance" class="toc-h3 toc-link" data-title="OpenStack plugin">Detach a volume from an instance</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#openstack-snapshots" class="toc-h2 toc-link" data-title="OpenStack plugin">Snapshots</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#openstack-list-snapshots" class="toc-h3 toc-link" data-title="OpenStack plugin">List Snapshots</a>
                          </li>
                          <li>
                            <a href="#openstack-retrieve-a-snapshot" class="toc-h3 toc-link" data-title="OpenStack plugin">Retrieve a snapshot</a>
                          </li>
                          <li>
                            <a href="#openstack-delete-a-snapshot" class="toc-h3 toc-link" data-title="OpenStack plugin">Delete a snapshot</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting started</h1>
<p>The CloudMC API allows you to manage your environments and provision resources in a simple programmatic way using standard HTTP requests.</p>

<p>The API is  <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a>. Responses, successful or not, are returned in <a href="http://www.json.org/">JSON</a>. Request bodies must be <a href="http://www.json.org/">JSON</a>, and should be made over SSL.</p>

<p>API endpoint : <code>https://cloudmc_endpoint/v1</code></p>
<h2 id='authentication'>Authentication</h2><pre class="highlight shell tab-shell"><code><span class="c">## To authenticate, add a header</span>
<span class="c">## Make sure to replace `your_api_key` with your API key.</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>
</code></pre>
<p>API endpoints are secured by the same role-based access control (RBAC) as the CloudMC portal. To identify who is making the requests, it is required to add a header to your HTTP requests:</p>

<p><code>MC-Api-Key: your_api_key</code></p>

<aside class="notice">
You must replace <code>your_api_key</code> with your personal API key.
</aside>

<p>The API key is found from the API keys section under the user profile menu. If you don&#39;t see CloudMC API keys section, contact your system administrator as you may not have the permission to see that section. <strong>Your API key carries the same privileges as your CloudMC account, so be sure to keep it secret</strong>. If you think your API has been compromised, regenerate your API key from the API keys section.</p>
<h2 id='http-verbs'>HTTP verbs</h2>
<p>The CloudMC API can be used by any tool that is fluent in HTTP. The appropriate HTTP method should be used depending on the desired action.</p>

<table><thead>
<tr>
<th>Verbs</th>
<th>Purpose</th>
</tr>
</thead><tbody>
<tr>
<td><code>GET</code></td>
<td>Used to retrieve information about a resource.</td>
</tr>
<tr>
<td><code>POST</code></td>
<td>Used to create (or provision) a new resource or perform an operation on it.</td>
</tr>
<tr>
<td><code>PUT</code></td>
<td>Used to update a resource.</td>
</tr>
<tr>
<td><code>DELETE</code></td>
<td>Used to delete a resource.</td>
</tr>
</tbody></table>
<h2 id='responses'>Responses</h2><h3 id='success-response'>Success response</h3>
<!--
```json
{
  "data": [
    { "_comment" : "JSON representation of first object goes here" },
    { "_comment" : "JSON representation of second object goes here" }
  ],
  "metadata": {
    "pageSize": 2,
    "pageCurrent": 1,
    "recordCount": 2,
    "sortField": "templateName",
    "sortOrder": "ASC"
  }
}
```
-->
<pre class="highlight shell tab-shell"><code><span class="c"># Example without tasks</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"_comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JSON representation of first object goes here"</span><span class="w"> </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w"> </span><span class="s2">"_comment"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"JSON representation of second object goes here"</span><span class="w"> </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code><span class="c"># Example of compute API call with task</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2c13744-8610-4012-800a-0907bea110a5"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an API request is successful, the response body will contain the <code>data</code> field with the result of the API call. If you&#39;re using the <a href="#compute-api">compute API</a>, the <code>data</code> field might be empty since most of the operations are asynchronous. The response will contain the <code>taskId</code> and <code>taskStatus</code> fields so that you can retrieve the result of the operation you executed through the <a href="#tasks">task API</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>data</code></td>
<td>The data field contains the object requested by the API caller</td>
</tr>
<tr>
<td><code>taskId</code></td>
<td>The <a href="#tasks">task id</a> of an operation executed through the services API</td>
</tr>
<tr>
<td><code>taskStatus</code></td>
<td>The status of a <a href="#tasks">task</a> of an operation executed the services API</td>
</tr>
</tbody></table>

<!--
`metadata` | The metadata is an optionally returned field containing paging and sorting information
-->

<aside class="notice">
If the response contains the "errors" field, the request was <strong>not</strong> successful
</aside>
<h3 id='error-response'>Error response</h3><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">2012</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cannot stop an instance that isn't in the running state"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"context"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4534cc36-bc46-48bc-ac5c-3ee4e42f0a44"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currentState"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stopped"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"expectedStates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Running"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"instances"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an API request is unsuccessful, the response body will contain the <code>errors</code> field :</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>errors</code></td>
<td>A list of errors objects that contain information about each error</td>
</tr>
</tbody></table>

<p>Each error has additional fields to describe it :</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>code</code></td>
<td>The CloudMC error code</td>
</tr>
<tr>
<td><code>message</code></td>
<td>A human readable explanation of the error code</td>
</tr>
<tr>
<td><code>context</code></td>
<td>Additional information</td>
</tr>
</tbody></table>

<p>The HTTP status codes of error responses :</p>

<table><thead>
<tr>
<th>Status code</th>
<th>Reason</th>
</tr>
</thead><tbody>
<tr>
<td><code>200</code></td>
<td>The request was successful.</td>
</tr>
<tr>
<td><code>204</code></td>
<td>The request was successful and the response body is empty</td>
</tr>
<tr>
<td><code>400</code></td>
<td>Bad request -- Occurs when invalid parameters are provided or when quota limit is exceeded.</td>
</tr>
<tr>
<td><code>403</code></td>
<td>Forbidden -- Not authorized to perform this request.</td>
</tr>
<tr>
<td><code>404</code></td>
<td>Not Found -- Cannot locate the specified endpoint.</td>
</tr>
<tr>
<td><code>405</code></td>
<td>Method not allowed -- Cannot use that HTTP verb on the specified endpoint.</td>
</tr>
<tr>
<td><code>500</code></td>
<td>An unexpected error occurred.</td>
</tr>
</tbody></table>

<!--
## Paging & sorting
All `GET` endpoints returning a list of objects support pagination. The desired page of result is specified by providing the following HTTP query parameters:

Name | Description
------------------- | -----------
`page_number` | The page of data to retrieve
`page_size` | The number of items to display per page
`sort_by` | The field name to sort by
`sort_order` | The sort order (ASC or DESC)
-->
<h1 id='administration'>Administration</h1>
<p>The following sections describe the various endpoints exposed by CloudMC to manage customer&#39;s configuration and interact with various core functionality of the system. Using these, you can automate various workflows without having to log into the portal, or simply integrate different aspects of CloudMC with your own toolchain.
<aside class="notice">
If you are not familiar with the CloudMC API response structures, it would be valuable to read <a href="#responses">this</a> first.
</aside></p>
<h2 id='administration-service-connections'>Service connections</h2>
<p>Service connections are the services that you can create resources for (e.g. compute, object storage). <a href="#administration-environments">Environments</a> are created for a specific service which allows you to create and manage resources within that service.</p>

<!-------------------- LIST ORGANIZATIONS -------------------->
<h3 id='administration-list-service-connections'>List service connections</h3>
<p><code>GET /services/connections</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compute-qc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CloudCA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reachable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the service connection</td>
</tr>
<tr>
<td><code>serviceCode</code><br/><em>string</em></td>
<td>The service code of the service connection. It is used in the endpoint of the services API.</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the service connection</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of the service connection.</td>
</tr>
<tr>
<td><code>status</code><br/><em>Object</em></td>
<td>Status of the service connection. Tells you if the service is up.<br/><em>includes</em>: <code>lastUpdated</code>, <code>reachable</code></td>
</tr>
</tbody></table>

<!-------------------- GET ORGANIZATION -------------------->
<h3 id='administration-retrieve-a-service-connection'>Retrieve a service connection</h3>
<p><code>GET /services/connections/:id</code></p>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"compute-qc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CloudCA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">  
      </span><span class="s2">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reachable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the service connection</td>
</tr>
<tr>
<td><code>serviceCode</code><br/><em>string</em></td>
<td>The service code of the service connection. It is used in the endpoint of the services API.</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the service connection</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of the service connection.</td>
</tr>
<tr>
<td><code>status</code><br/><em>Object</em></td>
<td>Status of the service connection. Tells you if the service is up.<br/><em>includes</em>: <code>lastUpdated</code>, <code>reachable</code></td>
</tr>
</tbody></table>
<h2 id='administration-organizations'>Organizations</h2>
<p>Organizations are the largest logical grouping of users, environments and resources available in CloudMC. Each organization is isolated from other organizations. It has its own subdomain (<code>[entryPoint].CloudMC</code>) and is protected by its own customizable system <a href="#administration-roles">roles</a>. An administrator that must manage it&#39;s sub-organizations environments or provisioned resources can do so by having the <code>Access other levels</code> permission. Additionally, provisioned resource usage is metered at the organization level facilitating cost tracking.</p>

<!-------------------- LIST ORGANIZATIONS -------------------->
<h3 id='administration-list-organizations'>List organizations</h3>
<p><code>GET /organizations</code></p>

<p>Retrieves a list of organizations visible to the caller. In most cases, only the caller&#39;s organization will be returned. However if the caller&#39;s organization has sub-organizations, and the caller has the <code>Access other levels</code> permission, the sub-organizations will be returned as well.</p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve visible organizations</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03bc22bd-adc4-46b8-988d-afddc24c0cb5"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Umbrella Corporation"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"billableStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"isBillable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
         </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"a-tag"</span><span class="p">],</span><span class="w">
         </span><span class="s2">"parent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Capcom"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="s2">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9df14056-51e2-4000-ab14-beeaa488500d"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"serviceConnections"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"11607a49-9691-40fe-8022-2e148bc0d720"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"serviceCode"</span><span class="p">:</span><span class="s2">"compute-qc"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"0c3ffcce-a98d-4159-b6fc-04edd34e89b7"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"userName"</span><span class="p">:</span><span class="s2">"wbirkin"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>---</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>---</td>
</tr>
<tr>
<td><code>entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the CloudMC URL : <code>[entryPoint].CloudMC</code></td>
</tr>
<tr>
<td><code>billableStartDate</code><br/><em>string</em></td>
<td>The billable start date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> of the organization</td>
</tr>
<tr>
<td><code>isBillable</code><br/><em>boolean</em></td>
<td>If the organization is billable this values is true, false otherwise</td>
</tr>
<tr>
<td><code>tags</code><br/><em>Array[string]</em></td>
<td>Tags associated to the organization</td>
</tr>
<tr>
<td><code>parent</code><br/><em><a href="#administration-organizations">Organization</a></em></td>
<td>If the organization is a sub-organization, it will have it&#39;s <code>parent</code> organization. <em>includes</em>:<code>id</code>,<code>name</code></td>
</tr>
<tr>
<td><code>environments</code><br/><em>Array[<a href="#administration-environments">Environment</a>]</em></td>
<td>The environments belonging to the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The system and environments roles belonging to the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
<tr>
<td><code>serviceConnections</code><br/><em>Array[<a href="#administration-service-connections">ServiceConnection</a>]</em></td>
<td>The services for which the organization is allowed to provision resources<br/><em>includes</em>: <code>id</code>,<code>serviceCode</code></td>
</tr>
<tr>
<td><code>users</code><br/><em>Array[<a href="#administration-users">User</a>]</em></td>
<td>The users of the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
</tbody></table>

<!-------------------- FIND ORGANIZATION -------------------->
<h3 id='administration-retrieve-an-organization'>Retrieve an organization</h3>
<p><code>GET /organizations/:id</code></p>

<p>Retrieve an organization&#39;s details</p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve an organization</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03bc22bd-adc4-46b8-988d-afddc24c0cb5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nintendo US"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nintendo-us"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"billableStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isBillable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"a-tag"</span><span class="p">],</span><span class="w">
      </span><span class="s2">"parent"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nintendo"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9df14056-51e2-4000-ab14-beeaa488500d"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"serviceConnections"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"11607a49-9691-40fe-8022-2e148bc0d720"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"serviceCode"</span><span class="p">:</span><span class="s2">"compute-qc"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"0c3ffcce-a98d-4159-b6fc-04edd34e89b7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"userName"</span><span class="p">:</span><span class="s2">"reggie"</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>---</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>---</td>
</tr>
<tr>
<td><code>entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the CloudMC URL :<br/><code>[entryPoint].CloudMC</code></td>
</tr>
<tr>
<td><code>billableStartDate</code><br/><em>string</em></td>
<td>The billable start date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> of the organization</td>
</tr>
<tr>
<td><code>isBillable</code><br/><em>boolean</em></td>
<td>If the organization is billable this values is true, false otherwise</td>
</tr>
<tr>
<td><code>tags</code><br/><em>Array[string]</em></td>
<td>Tags associated to the organization</td>
</tr>
<tr>
<td><code>parent</code><br/><em><a href="#administration-organizations">Organization</a></em></td>
<td>If the organization is a sub-organization, it will have it&#39;s <code>parent</code> organization. <em>includes</em>:<code>id</code>,<code>name</code></td>
</tr>
<tr>
<td><code>environments</code><br/><em>Array[<a href="#administration-environments">Environment</a>]</em></td>
<td>The environments belonging to the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The system and environments roles belonging to the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
<tr>
<td><code>serviceConnections</code><br/><em>Array[<a href="#administration-service-connections">ServiceConnection</a>]</em></td>
<td>The services for which the organization is allowed to provision resources<br/><em>includes</em>: <code>id</code>,<code>serviceCode</code></td>
</tr>
<tr>
<td><code>users</code><br/><em>Array[<a href="#administration-users">User</a>]</em></td>
<td>The users of the organization<br/><em>includes</em>: <code>id</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE ORGANIZATION -------------------->
<h3 id='administration-create-organization'>Create organization</h3>
<p><code>POST /organizations</code></p>

<p>Creates a new organization as a sub-organization of the caller&#39;s organization, or a sub-organization of the specified <code>parent</code>. The caller requires the <code>Organizations create</code> permission.</p>
<pre class="highlight shell tab-shell"><code><span class="c"># Create an organization</span>
curl -X POST <span class="s2">"https://cloudmc_endpoint/v1/organizations"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Umbrella Corp"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"serviceConnections"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"9acb3b76-d5d0-420c-b075-ef320b7e5a3e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"parent"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"bc0ceecf-feb5-412c-ab6e-a8df8eb7fbbd"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the organization. (Add info about restrictions)</td>
</tr>
<tr>
<td><code>entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the CloudMC URL : <code>[entryPoint].CloudMC</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>serviceConnections</code><br/>Array[<a href="#administration-service-connections">ServiceConnection</a>]</td>
<td>A list of service connections for which the organization may provision resources.<br/><em>required :</em><code>id</code></td>
</tr>
<tr>
<td><code>parent</code><br/><a href="#administration-organization">Organization</a></td>
<td>The organization that will be the parent of the new organization. By default, it will default to the caller&#39;s organization.<br/><em>required :</em><code>id</code></td>
</tr>
</tbody></table>

<p>The responses&#39; <code>data</code> field contains the created <a href="#administration-organizations">organization</a> with it&#39;s <code>id</code>.</p>

<!-------------------- UPDATE ORGANIZATION -------------------->
<h3 id='administration-update-organization'>Update organization</h3>
<p><code>PUT /organizations/:id</code></p>

<p>Update an organization. It&#39;s parent organization cannot be changed. It can be assigned service connections</p>
<pre class="highlight shell tab-shell"><code><span class="c"># Update an organization</span>
curl -X PUT <span class="s2">"https://cloudmc_endpoint/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="s2">"umbrella"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="s2">"Umbrella Corp"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"serviceConnections"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="s2">"9acb3b76-d5d0-420c-b075-ef320b7e5a3e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the organization. (Add info about restrictions)</td>
</tr>
<tr>
<td><code>entryPoint</code><br/><em>string</em></td>
<td>The entry point of the organization is the subdomain of the organization in the CloudMC URL : <code>[entryPoint].CloudMC</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>serviceConnections</code><br/>Array[<a href="#administration-service-connections">ServiceConnection</a>]</td>
<td>A list of service connections for which the organization may provision resources. The caller must have access to all connections that are provided. <strong>NB :</strong> Service connection access may be added but not revoked at this time.<br/><em>required :</em> <code>id</code></td>
</tr>
</tbody></table>

<p>The responses&#39; <code>data</code> field contains the updated <a href="#administration-organizations">organization</a>.</p>

<!-------------------- DELETE ORGANIZATION -------------------->
<h3 id='administration-delete-organization'>Delete organization</h3>
<p><code>DELETE /organizations/:id</code></p>

<p>Delete an organization. The caller may not delete his own organization. Also, an organization may not be deleted if it has sub-organizations.</p>
<pre class="highlight shell tab-shell"><code><span class="c"># Delete an organization</span>
curl -X DELETE <span class="s2">"https://cloudmc_endpoint/v1/organizations/[id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>
</code></pre>
<p>Returns an HTTP status code 204, with an empty response body.</p>
<h2 id='administration-users'>Users</h2>
<p>A user account allows users to authenticate to an <a href="#administration-organizations">organization</a> and to have access to the resources in it. You can restrict user access to the system and environments by assigning them specific <a href="#administration-roles">roles</a>. Additionally, every user is given an API key which is needed to use our APIs. All operations done by users are persisted and can be accessed through the activity log.</p>

<!-------------------- LIST USERS -------------------->
<h3 id='administration-list-users'>List users</h3>
<p><code>GET /users</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve visible users</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/users"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e83540c7-75a0-4715-96dc-c10a364e0390"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"habsgoalie123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carey"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Price"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gohabsgo@cloud.mc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8e3393ce-ee63-4f32-9e0f-7b0200fa655a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Canadiens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdaaa9d0-304e-4063-b1ab-de31905bdab8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End-User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe6d2614-3c33-447c-96f2-c79f67f5fd19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afcafd98-0287-4139-bb77-f29ab0549eaa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve information about users you have access to. If you want access to other users in your <a href="#administration-organizations">organization or sub-organizations</a>, you will need to be assigned the <code>Users read</code> permission. Without this permission, you will only see your own user in the list.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the user</td>
</tr>
<tr>
<td><code>userName</code><br/><em>string</em></td>
<td>The username of the user</td>
</tr>
<tr>
<td><code>firstName</code><br/><em>string</em></td>
<td>The first name of the user</td>
</tr>
<tr>
<td><code>lastName</code><br/><em>string</em></td>
<td>The last name of the user</td>
</tr>
<tr>
<td><code>email</code><br/><em>string</em></td>
<td>The email of the user</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> that the user was created</td>
</tr>
<tr>
<td><code>status</code><br/><em>string</em></td>
<td>The current status of the user.</td>
</tr>
<tr>
<td><code>organization</code><br/><em><a href="#administration-organization">Organization</a></em></td>
<td>The organization to which the user belongs</td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The system and environments roles that are assigned to the user<br/><em>includes</em>: <code>id</code>, <code>name</code> and <code>environment.id</code></td>
</tr>
</tbody></table>

<!-------------------- GET USER -------------------->
<h3 id='administration-retrieve-a-user'>Retrieve a user</h3>
<p><code>GET /users/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve visible user</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/users/[user-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdf60a19-980d-4380-acab-914485111305"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frodo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frodo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Baggins"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"frodo@cloud.mc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACTIVE"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c64dcd1d-9123-45e5-ad00-5d635c49176b"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Shire"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55724a36-4817-4cd3-927e-57d8a8b41eb8"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hobbiton"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f0a4f20-3537-4bcd-81fe-2b74fd4c07e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End-User"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b9159cd-81ac-48d1-be8a-7595a1617c94"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Read-Only"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55724a36-4817-4cd3-927e-57d8a8b41eb8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve information about a specific user. If you want access to other users in your <a href="#administration-organizations">organization or sub-organizations</a>, you will need to be assigned the <code>Users Read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the user</td>
</tr>
<tr>
<td><code>userName</code><br/><em>string</em></td>
<td>The username of the user</td>
</tr>
<tr>
<td><code>firstName</code><br/><em>string</em></td>
<td>The first name of the user</td>
</tr>
<tr>
<td><code>lastName</code><br/><em>string</em></td>
<td>The last name of the user</td>
</tr>
<tr>
<td><code>email</code><br/><em>string</em></td>
<td>The email of the user</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> that the user was created</td>
</tr>
<tr>
<td><code>status</code><br/><em>string</em></td>
<td>The current status of the user.</td>
</tr>
<tr>
<td><code>organization</code><br/><em><a href="#administration-organization">Organization</a></em></td>
<td>The organization to which the user belongs</td>
</tr>
<tr>
<td><code>environments</code><br/><em>Array[<a href="#administration-environments">Environment</a>]</em></td>
<td>The environments the user is member of<br/><em>includes</em>: <code>id</code>, <code>name</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The system and environments roles that are assigned to the user<br/><em>includes</em>: <code>id</code>, <code>name</code> and <code>environment.id</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE USER -------------------->
<h3 id='administration-create-user'>Create user</h3>
<p><code>POST /users</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Create a user</span>

curl -X POST <span class="s2">"https://cloudmc_endpoint/v1/users"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request-body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vader42"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anakin"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Skywalker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vader42@cloud.mc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"645cf4ce-3699-40c5-a1a8-0b3e945f49ee"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd01c908-371c-4ec5-9fd7-80b1bfac8975"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a user in a specific organization. There&#39;s two different types of <a href="#administration-roles">role</a> you can assign to the user. A system role will determine the set of system permissions the user will have. An environment role will give the user access to an environment and will determine what he can see and do in that environment. You will need the <code>Create a new user</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>userName</code><br/><em>string</em></td>
<td>Username of the new user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code>firstName</code><br/><em>string</em></td>
<td>First name of the user</td>
</tr>
<tr>
<td><code>lastName</code><br/><em>string</em></td>
<td>Last name of the user</td>
</tr>
<tr>
<td><code>email</code><br/><em>string</em></td>
<td>Email of the user. Should be unique across the organization.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>organization</code></br><em><a href="#administration-organization">Organization</a></em></td>
<td>Organization in which the user will be created. <em>Defaults to your organization</em><br/><em>required:</em> <code>id</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The system and environment roles to give to the user<br/><em>required</em>: <code>id</code></td>
</tr>
</tbody></table>
<h5 id='administration-returns'>Returns</h5>
<p>The responses&#39; <code>data</code> field contains the created <a href="#administration-users">user</a> with it&#39;s <code>id</code>.</p>

<!-------------------- UPDATE USER -------------------->
<h3 id='administration-update-user'>Update user</h3>
<p><code>PUT /users/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Create a user</span>

curl -X PUT <span class="s2">"https://cloudmc_endpoint/v1/users/[user-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request-body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spidey1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Peter"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parker"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spidey1@cloud.mc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd01c908-371c-4ec5-9fd7-80b1bfac8975"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Update a specific user. It is important to note that updating the list of roles will override the previous one. You will the <code>Users update</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>userName</code><br/><em>string</em></td>
<td>The new username of the user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code>firstName</code><br/><em>string</em></td>
<td>The new first name of the user</td>
</tr>
<tr>
<td><code>lastName</code><br/><em>string</em></td>
<td>The new last name of the user</td>
</tr>
<tr>
<td><code>email</code><br/><em>string</em></td>
<td>The new email of the user. Should be unique across the organization.</td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The new list of system or environment roles to give to the user. This will override the previous list of roles.<br/><em>required</em>: <code>id</code></td>
</tr>
</tbody></table>
<h5 id='administration-returns-2'>Returns</h5>
<p>The responses&#39; <code>data</code> field contains the updated <a href="#administration-users">user</a>.</p>

<!-------------------- DELETE USER -------------------->
<h3 id='administration-delete-user'>Delete user</h3>
<p><code>DELETE /users/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Delete a user</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/users/[user-id]"</span> <span class="se">\</span>
   -X DELETE -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>
<p>Delete a specific user. You will need the <code>Delete an existing user</code> permission to execute this operation.</p>

<!-------------------- UNLOCK USER -------------------->
<h3 id='administration-unlock-user'>Unlock user</h3>
<p><code>POST /users/:id/unlock</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Unlock a user that was locked from the system</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/users/[user-id]/unlock"</span> <span class="se">\</span>
   -X POST -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>
<p>A user with 10 consecutive unsuccessful logins will be automatically locked by our system. This API can be used to unlock a user in this situation. You will need the <code>Unlock user</code> permission to execute this operation.</p>
<h2 id='administration-environments'>Environments</h2>
<p>Environments allow you to manage resources of a specific service and to manage your <a href="#administration-users">users&#39;</a> access to them. With <a href="#administration-roles">environment roles</a>, you have tight control of what a user is allowed to do in your environment. A general use case of environments is to split your resources into different <a href="https://en.wikipedia.org/wiki/Deployment_environment">deployment environments</a> (e.g. dev, staging and production). The advantage is that resources of different deployments are isolated from each other and you can restrict user access to your most critical resources.</p>

<!-------------------- LIST ENVIRONMENTS -------------------->
<h3 id='administration-list-environments'>List environments</h3>
<p><code>GET /environments</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve visible environments</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/environments"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1ee5cd43-8395-4cd5-a20f-0f1e83b7f8bd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cheyenne_mountain"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for base at Cheyenne Mountain"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9f93785-0545-4876-8241-3b19b9a86721"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sg1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"951b768b-e91c-4d20-8b52-d4a2ab5a538a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9f84a6ce-7be1-4a08-a25b-edc6e57fb7e3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jack_oneill"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>List environments that you have access to. It will only return environments that you&#39;re member of if you&#39;re not assigned the <code>Environments read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the environment</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the environment</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the environment</td>
</tr>
<tr>
<td><code>membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. (e.g. ALL_ORG_USERS, MANY_USERS)</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> that the environment was created</td>
</tr>
<tr>
<td><code>organization</code><br/><em><a href="#administration-organizations">Organization</a></em></td>
<td>The organization of the environment<br/><em>includes</em>: <code>id</code>, <code>name</code>, <code>entryPoint</code></td>
</tr>
<tr>
<td><code>serviceConnection</code><br/><em><a href="#administration-service-connections">ServiceConnection</a></em></td>
<td>The service connection of the environment<br/><em>includes</em>: <code>id</code>, <code>name</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The roles of the environment with all the users assigned to them.<br/><em>includes</em>: <code>id</code>, <code>name</code>, <code>isDefault</code>, <code>users.id</code>, <code>users.name</code></td>
</tr>
</tbody></table>

<!-------------------- GET ENVIRONMENT -------------------->
<h3 id='administration-retrieve-an-environment'>Retrieve an environment</h3>
<p><code>GET /environments/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve visible environment</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/environment/[environment-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"487a2745-bb8a-44bc-adb1-e3b048f6def2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"galactica"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for the Galactica"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-15T12:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3340a89-8f60-407d-8a49-f5cfe81eef8f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kobol"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entryPoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kobol"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adfbdb51-493b-45b1-8802-3f6327afb9e6"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Compute - Québec"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e84ab70-4c62-4db1-bbd8-343636a34647"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"starbuck"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b04b8a7c-6e89-4dba-9734-74d9f1b7be04"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6e84ab70-4c62-4db1-bbd8-343636a34647"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"starbuck"</span><span class="w">
      </span><span class="p">}]</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieve an environment you have access to. You can always retrieve environments that you&#39;re member of but to access other environments you will need the <code>Environments read</code> permission.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the environment</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the environment</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the environment</td>
</tr>
<tr>
<td><code>membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. (e.g. ALL_ORG_USERS, MANY_USERS)</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The date in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a> that the environment was created</td>
</tr>
<tr>
<td><code>organization</code><br/><em><a href="#administration-organizations">Organization</a></em></td>
<td>The organization of the environment<br/><em>includes</em>: <code>id</code>, <code>name</code>, <code>entryPoint</code></td>
</tr>
<tr>
<td><code>serviceConnection</code><br/><em><a href="#administration-service-connections">ServiceConnection</a></em></td>
<td>The service connection of the environment<br/><em>includes</em>: <code>id</code>, <code>name</code></td>
</tr>
<tr>
<td><code>users</code><br/><em>Array[<a href="#administration-users">User</a>]</em></td>
<td>The users that are members of the environment<br/><em>includes</em>: <code>id</code>, <code>username</code></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The roles of the environment with all the users assigned to them.<br/><em>includes</em>: <code>id</code>, <code>name</code>, <code>isDefault</code>, <code>users.id</code>, <code>users.name</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE ENVIRONMENT -------------------->
<h3 id='administration-create-environment'>Create environment</h3>
<p><code>POST /environments</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Create an environment</span>

curl -X POST <span class="s2">"https://cloudmc_endpoint/v1/environments"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"glados"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment property of Aperture Science"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"membership"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANY_USERS"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"organization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2fd60d6f-1fee-4fe5-8ec6-46d8776acc6f"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"serviceConnection"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7f0fa906-490a-467b-bc44-e2382d43015e"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment Admin"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73b17dab-1705-45f1-84e2-997e2af5641b"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a new environment in a specific service and organization. You will need the <code>Environments create</code> permission to execute this operation.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the new environment. Should be unique in the environment and only contain lower case characters, numbers, dashes and underscores.</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the new environment.</td>
</tr>
<tr>
<td><code>serviceConnection</code><br/><em><a href="#administration-service-connections">ServiceConnection</a></em></td>
<td>The service connection that the environment should be created in<br/><em>required</em>: <code>id</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>organization</code><br/><em><a href="#administration-organizations">Organization</a></em></td>
<td>The organization that the environment should be created in. <em>Defaults to your organization</em><br/><em>required</em>: <code>id</code></td>
</tr>
<tr>
<td><code>membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. ALL_ORG_USERS will add every user in the organization to this environment with the default role. MANY_USERS will allow you to  choose the users you want in the environment and assigned them specific roles. <em>Defaults to MANY_USERS</em></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>The roles of the environment and the users assigned to them. Also, defines the default role of the environment.<br/><em>required</em>: <code>name</code>, <code>users.id</code><br/><em>optional</em>: <code>isDefault</code></td>
</tr>
</tbody></table>

<p>The responses&#39; <code>data</code> field contains the updated <a href="#administration-environments">environment</a>.</p>

<!-------------------- UPDATE ENVIRONMENT -------------------->
<h3 id='administration-update-environment'>Update environment</h3>
<p><code>PUT /environments/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Update an environment</span>
curl -X POST <span class="s2">"https://cloudmc_endpoint/v1/environments/[environment-id]"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"[request_body]"</span>

<span class="c"># Request body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"skynet-beta"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment for the Skynet project"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f9dea588-d7ab-4f42-b6e6-4b85f273f3db"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07e02355-d05b-47cf-860d-f69cf0432276"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The updated name of the environment. Should be unique in the environment and only contain lower case characters, numbers, dashes and underscores.</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The updated description of the environment</td>
</tr>
<tr>
<td><code>membership</code><br/><em>string</em></td>
<td>Type of membership of the environment. ALL_ORG_USERS will add every user in the organization to this environment with the default role. MANY_USERS will allow you to  choose the users you want in the environment and assigned them specific roles. <em>Defaults to MANY_USERS</em></td>
</tr>
<tr>
<td><code>roles</code><br/><em>Array[<a href="#administration-roles">Role</a>]</em></td>
<td>Update the users roles in the environment. Also, can also update the default role.<br/><em>required</em>: <code>name</code>, <code>users.id</code><br/><em>optional</em>: <code>isDefault</code></td>
</tr>
</tbody></table>

<p>You will need the <code>Environments update</code> permission to execute this operation.</p>

<!-------------------- DELETE ENVIRONMENT -------------------->
<h3 id='administration-delete-environment'>Delete environment</h3>
<p><code>DELETE /environments/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Delete an environment</span>

curl <span class="s2">"https://cloudmc_endpoint/v1/environments/[environment-id]"</span> <span class="se">\</span>
   -X DELETE -H <span class="s2">"MC-Api-Key: your_api_key"</span>

</code></pre>
<p>Delete a specific environment. You will need a <a href="#administration-roles">role</a> with the <code>Delete an existing environment</code> permission to execute this operation.</p>

<aside class="warning">
  <strong>Be careful:</strong> This will destroy all the resources in your environment.
</aside>
<h2 id='administration-usage'>Usage</h2>
<!-------------------- LIST USAGE SUMMARY -------------------->
<h3 id='administration-list-usage-summary'>List usage summary</h3>
<p><code>GET /usage_summary/organizations/:id</code></p>
<pre class="highlight shell tab-shell"><code><span class="c"># Retrieve usage summary in JSON</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/usage_summary/organizations/03bc22bd-adc4-46b8-988d-afddc24c0cb5?start_date=2017-05-01&amp;end_date=2017-05-15&amp;format=json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"organizationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52fd201e-aa82-4a27-86b3-ea9650a7fb1e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceConnectionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"beeba736-0451-49b0-8020-8b93ed5abb35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"serviceConnectionPricingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e37cc44a-47b6-4a26-81f5-1dbf85433e36"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"utilityCost"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.66</span><span class="p">,</span><span class="w">
    </span><span class="s2">"utilityUsage"</span><span class="p">:</span><span class="w"> </span><span class="mf">5.49999878</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-05-01T01:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"usageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secondaryType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAM"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><pre class="highlight shell tab-shell"><code><span class="c"># Retrieve usage summary in CSV</span>
curl <span class="s2">"https://cloudmc_endpoint/v1/usage_summary/organizations/03bc22bd-adc4-46b8-988d-afddc24c0cb5?start_date=2017-05-01&amp;end_date=2017-05-15&amp;format=csv"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span>

<span class="c"># Response body example</span>
organizationId,serviceConnectionId,startDate,endDate,usageType,secondaryType,serviceConnectionPricingId,utilityCost,utilityUsage
52fd201e-aa82-4a27-86b3-ea9650a7fb1e,beeba736-0451-49b0-8020-8b93ed5abb35,2017-05-01T00:00:00.000Z,2017-05-01T01:00:00.000Z,1,RAM,e37cc44a-47b6-4a26-81f5-1dbf85433e36,0.660000,5.49999878
</code></pre>
<p>Retrieve the usage summary records for an organization and all of its sub-organizations for a specific period. The response can be in JSON (default) or CSV format. Additionally, you can aggregate these records using the different query parameters available.</p>

<p><em>Note</em>: Old records are aggregated by day instead of hour. If you try to query those records per hour, then you will receive an empty list.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>organizationId</code><br/><em>UUID</em></td>
<td>Id of the <a href="#administration-organizations">organization</a></td>
</tr>
<tr>
<td><code>serviceConnectionId</code><br/><em>UUID</em></td>
<td>Id of the <a href="#administration-service-connections">service connection</a></td>
</tr>
<tr>
<td><code>serviceConnectionPricingId</code><br/><em>UUID</em></td>
<td>Id of the service connection pricing</td>
</tr>
<tr>
<td><code>utilityCost</code><br/><em>string</em></td>
<td>Utility cost of the record (aggregated per the period)</td>
</tr>
<tr>
<td><code>utilityUsage</code><br/><em>string</em></td>
<td>Utility usage of the record</td>
</tr>
<tr>
<td><code>startDate</code><br/><em>string</em></td>
<td>Start date of the record in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
</tr>
<tr>
<td><code>endDate</code><br/><em>string</em></td>
<td>End date of the record in <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601</a></td>
</tr>
<tr>
<td><code>usageType</code><br/><em>string</em></td>
<td>Usage type of the record.</td>
</tr>
<tr>
<td><code>secondaryType</code><br/><em>string</em></td>
<td>Secondary type of the record.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters (<em>required</em>)</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>start_date</code><br/><em>String</em></td>
<td>Start date (inclusive). Should have the following format YYYY-MM-DD.</td>
</tr>
<tr>
<td><code>end_date</code><br/><em>String</em></td>
<td>End date (exclusive). Should have the following format YYYY-MM-DD.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>service_connection_id</code><br/><em>UUID</em></td>
<td>Show usage summary for this service connection</td>
</tr>
<tr>
<td><code>include_sub_orgs</code><br/><em>boolean</em></td>
<td>Include usage summary of all its sub-organizations. Defaults to false.</td>
</tr>
<tr>
<td><code>include_cost</code><br/><em>boolean</em></td>
<td>Include the utility cost and service connection pricing id fields. Defaults to true.</td>
</tr>
<tr>
<td><code>include_free_usage</code><br/><em>boolean</em></td>
<td>Include all summary records that has no cost associated to it (i.e. utilityCost == 0). Defaults to true.</td>
</tr>
<tr>
<td><code>combine_usage_types</code><br/><em>boolean</em></td>
<td>Sums up all the utility cost per organization and service connection. The following fields are removed from the output: <code>serviceConnectionPricingId</code>, <code>usageType</code>, <code>secondaryType</code>, <code>utilityUsage</code></td>
</tr>
<tr>
<td><code>period</code><br/><em>String</em></td>
<td>The period on which the aggregation is made. HOUR, DAY or PERIOD. The default is HOUR.</td>
</tr>
<tr>
<td><code>format</code><br/><em>String</em></td>
<td>JSON or CSV. Defaults to JSON.</td>
</tr>
</tbody></table>
<h1 id='cloudstack-plugin'>CloudStack plugin</h1>
<p>The CloudStack plugin provides endpoints for carrying out operations on CloudMC compute and networking entities. While each operation has its own validation and required fields, all operations need to specify the service code and environment in which they should be carried out. The following example URL describes how to specify this information for all entities.</p>

<p><code>https://cloudmc_endpoint/v1/services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/:entity_type</code></p>

<aside class="notice">
An easy way to remember the structure of API endpoints is that going from left to right, the scope gets progressively more specific. First service, then environment of that service, then entity type, then operation on that entity type, etc.
</aside>
<h2 id='working-with-sub-organizations'>Working with sub-organizations</h2>
<p><em>If you don&#39;t know what a sub-organization is, you can safely skip this section.</em></p>

<p>When listing entities or carrying out an operation in an organization other than your own, make sure to specify the <code>org_id</code> query parameter in your request. For operations, this looks like:</p>

<p><code>https://cloudmc_endpoint/v1/services/:service_code/:environment_name/:entity_type/:entity_id?operation=:operation&amp;<strong>org_id=:org_id</strong></code></p>

<p>and for listing entities, looks like:</p>

<p><code>https://cloudmc_endpoint/v1/services/:service_code/:environment_name/:entity_type?<strong>org_id=:org_id</strong></code></p>
<h2 id='tasks'>Tasks</h2><pre class="highlight shell tab-shell"><code><span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2f82e2a-123e-4f86-a4c7-dc9b850dd11e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Some operations take longer to execute, and to avoid blocking on the response until it is fully completed, these are treated in an asynchronous fashion. This means the API will return immediately, and provide you a <code>taskId</code> that is your reference to the ongoing background task. Using the tasks API, you can query the task&#39;s status to find if it has completed and obtain the result of the operation.</p>
<h3 id='retrieve-a-task'>Retrieve a task</h3><pre class="highlight shell tab-shell"><code><span class="c"># Example of success response</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"taskId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2f82e2a-123e-4f86-a4c7-dc9b850dd11e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"taskStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8f064230-82a6-4f93-a17d-9cf9623b0cb5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"morty"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET https://cloudmc_endpoint/v1/tasks/:id</code></p>

<p>A task has three different status: <code>PENDING</code>, <code>FAILED</code> and <code>SUCCESS</code>. On a successful completion of the task (i.e. it&#39;s in the <code>SUCCESS</code> state), the response will contain a <code>result</code> field which will contain the result of the operation. It is important to note that we don&#39;t persist our task, a task will only stay alive for 30 minutes (in general).</p>
<h2 id='cloudstack-compute'>Compute</h2><h3 id='cloudstack-instances'>Instances</h3>
<p>Deploy and manage your instances.</p>

<!-------------------- LIST INSTANCES -------------------->
<h4 id='cloudstack-list-instances'>List instances</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9db8ff2f-b49b-466d-a2f3-c1e6def408f4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_instance"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"templateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CentOS 6.8 PV"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"computeOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web-test_area"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9eb1592c-f92f-4ddd-9799-b58caf896328"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod-VPC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.164.212.68"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isPasswordEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"macAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:00:2b:67:00:30"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
      </span><span class="s2">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_instance"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cca-user"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"affinityGroupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances</code></p>

<p>Retrieve a list of all instances in a given <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The display name of the instance</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code>templateId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-templates">template</a> id of the instance</td>
</tr>
<tr>
<td><code>templateName</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-templates">template</a> name of the instance</td>
</tr>
<tr>
<td><code>computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-compute-offerings">compute offering</a> id of the instance</td>
</tr>
<tr>
<td><code>computeOfferingName</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-compute-offerings">compute offering</a> name of the instance</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&#39;s <a href="#cloudstack-compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&#39;s <a href="#cloudstack-compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-networks">network</a> where instance is deployed</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-networks">network</a> where instance is deployed</td>
</tr>
<tr>
<td><code>hostname</code><br/><em>string</em></td>
<td>The host name of the instance</td>
</tr>
<tr>
<td><code>username</code><br/><em>string</em></td>
<td>The username that can be used to connect to the instance</td>
</tr>
<tr>
<td><code>affinityGroupIds</code><br/><em>Array[UUID]</em></td>
<td>The id(s) of the <a href="#cloudstack-affinity-groups">affinity groups</a> to which the instance is associated.</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where instance is deployed</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of associated <a href="#cloudstack-zones">zone</a></td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the associated <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of associated <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The instance&#39;s private IPv4 address</td>
</tr>
<tr>
<td><code>isPasswordEnabled</code><br/><em>boolean</em></td>
<td>Indicate whether a password can be used for remote connections</td>
</tr>
<tr>
<td><code>macAddress</code><br/><em>string</em></td>
<td>The instance&#39;s MAC address</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN INSTANCE -------------------->
<h4 id='cloudstack-retrieve-an-instance'>Retrieve an instance</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span>


<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9db8ff2f-b49b-466d-a2f3-c1e6def408f4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backup_instance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Running"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"templateName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CentOS 6.8 PV"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"computeOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Web-test_area"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9eb1592c-f92f-4ddd-9799-b58caf896328"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"prod-VPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.164.212.68"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isPasswordEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"macAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02:00:2b:67:00:30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"backup_instance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cca-user"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"affinityGroupIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"userData"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"publicIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7a204b7f-1039-4867-8971-c1e4f778ef33"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"199.215.226.46"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"PORT_FORWARDING"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"ports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"22"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"nics"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f401d989-b149-4870-99f3-1991fec31454"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d5a68379-a9ee-404f-9492-a1964b374d6f"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id</code></p>

<p>Retrieve information about a specific instance.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The display name of the instance</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code>templateId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-templates">template</a> id of the instance</td>
</tr>
<tr>
<td><code>templateName</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-templates">template</a> name of the instance</td>
</tr>
<tr>
<td><code>computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-compute-offerings">compute offering</a> id of the instance</td>
</tr>
<tr>
<td><code>computeOfferingName</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-compute-offerings">compute offering</a> name of the instance</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&#39;s <a href="#cloudstack-compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&#39;s <a href="#cloudstack-compute-offerings">compute offering</a></td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-networks">network</a> where instance is deployed</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-networks">network</a> where instance is deployed</td>
</tr>
<tr>
<td><code>hostname</code><br/><em>string</em></td>
<td>The host name of the instance</td>
</tr>
<tr>
<td><code>username</code><br/><em>string</em></td>
<td>The username that can be used to connect to the instance</td>
</tr>
<tr>
<td><code>affinityGroupIds</code><br/><em>Array[UUID]</em></td>
<td>The id(s) of the <a href="#cloudstack-affinity-groups">affinity groups</a> to which the instance is associated.</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where instance is deployed</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of associated <a href="#cloudstack-zones">zone</a></td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the associated <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of associated <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The instance&#39;s private IPv4 address</td>
</tr>
<tr>
<td><code>isPasswordEnabled</code><br/><em>boolean</em></td>
<td>Indicate whether a password can be used for remote connections</td>
</tr>
<tr>
<td><code>macAddress</code><br/><em>string</em></td>
<td>The instance&#39;s MAC address</td>
</tr>
<tr>
<td><code>userData</code><br/><em>string</em></td>
<td>The user data of the instance</td>
</tr>
<tr>
<td><code>publicIps</code><br/><em>Array[<a href="#cloudstack-public-ips">PublicIp</a>]</em></td>
<td>The public IP addresses associated to the instance<br/><em>includes:</em> <code>id</code>, <code>purposes</code>, <code>ipAddress</code>, <code>ports</code></td>
</tr>
<tr>
<td><code>nics</code><br/><em>Array[<a href="#cloudstack-nics">NIC</a>]</em></td>
<td>The NICs of the instance<br/><em>includes:</em> <code>id</code>, <code>isDefault</code>, <code>networkId</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE AN INSTANCE -------------------->
<h4 id='cloudstack-create-an-instance'>Create an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Here is the absolute minimum information required to create a new instance:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jarvis"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"templateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f968ad6-56d0-4d0d-ad7e-f8f4a5b5d986"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"computeOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3caab5ed-b5a2-4d8a-82e4-51c46168ee6c"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55ccea7f-8286-479e-a648-dd4a45866daf"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f16f7f1b-462d-47b9-97bb-25a19e47a648"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"rootVolumeSizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
   </span><span class="s2">"additionalDiskSizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
   </span><span class="s2">"additionalDiskIops"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sshKeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysshkey"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"volumeIdToAttach"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2478012b-3cf3-4eef-a8d6-85eb8599df6d"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"affinityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1c0bfd2b-d609-4892-a43e-273654532d26"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"portsToForward"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"80"</span><span class="p">,</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">],</span><span class="w">
   </span><span class="s2">"userData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"#!/bin/bash</span><span class="se">\n</span><span class="s2">echo 'hello world'"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances</code></p>

<p>Create an instance in an <a href="#administration-environments">environment</a>. This endpoint allows you to easily attach a new or existing data volume and add port forwarding rules to the new instance without doing additional API calls.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>Name of the newly created instance</td>
</tr>
<tr>
<td><code>templateId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-templates">template</a> to use for this instance</td>
</tr>
<tr>
<td><code>computeOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-compute-offerings">compute offering</a> will determine the number of CPU and RAM of your instance</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-networks">network</a> in which the instance will be created. If you don&#39;t have a network, it can be created through the <a href="#cloudstack-create-network">create network</a> api.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>rootVolumeSizeInGb</code><br/><em>int</em></td>
<td>The number of GB of the root volume. You must choose a <a href="#cloudstack-templates">template</a> that allows the resize of root volume. If none specified, then the default one of the template will be used.</td>
</tr>
<tr>
<td><code>diskOfferingId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-disk-offerings">disk offering</a> to be used for a new volume to attach to this instance</td>
</tr>
<tr>
<td><code>additionalDiskSizeInGb</code><br/><em>int</em></td>
<td>The number of GB the additional disk should have. You must choose a <a href="#cloudstack-disk-offerings">disk offering</a> with custom disk size enabled.</td>
</tr>
<tr>
<td><code>additionalDiskIops</code><br/><em>int</em></td>
<td>The number of IOPS the additional disk should have. You must choose a <a href="#cloudstack-disk-offerings">disk offering</a> with custom IOPS enabled.</td>
</tr>
<tr>
<td><code>sshKeyName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-ssh-keys">SSH key</a> to use for this instance. If you don&#39;t have an SSH key registered, you can do so through this <a href="#cloudstack-create-ssh-key">api</a>.</td>
</tr>
<tr>
<td><code>publicKey</code><br/><em>string</em></td>
<td>The public key to use for this instance.</td>
</tr>
<tr>
<td><code>volumeIdToAttach</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-volumes">volume</a> to attach to this instance.</td>
</tr>
<tr>
<td><code>affinityGroupId</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-affinity-groups">affinity group</a> where to create the instance.</td>
</tr>
<tr>
<td><code>portsToForward</code><br/><em>array[string]</em></td>
<td>The <a href="#port-forwarding-rules">ports</a> you would like to open on the instance. It will try to use an existing <a href="#cloudstack-public-ips">public IP address</a>, if it can&#39;t find one it will <a href="#cloudstack-acquire-a-public-ip">acquire a new public IP</a>.</td>
</tr>
<tr>
<td><code>userData</code><br/><em>string</em></td>
<td>User data is data that can be accessed and interpreted in the instance.</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>If the <a href="#cloudstack-compute-offerings">compute offering</a> requires custom values (i.e. <code>&quot;custom&quot;: true</code>), this value must be provided.</td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>If the <a href="#cloudstack-compute-offerings">compute offering</a> requires custom values (i.e. <code>&quot;custom&quot;: true</code>), this value must be provided.</td>
</tr>
</tbody></table>

<!-------------------- UPDATE AN INSTANCE -------------------->
<h4 id='cloudstack-update-an-instance'>Update an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Here is the absolute minimum information required to create a new instance:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hal"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hal_9000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id</code></p>

<p>Update the name and hostname of an existing instance.
<aside class="caution">
  Changing the hostname will force a reboot of your instance.
</aside></p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>Updated name of instance</td>
</tr>
<tr>
<td><code>hostname</code><br/><em>string</em></td>
<td>Updated hostname of instance.</td>
</tr>
</tbody></table>

<!-------------------- DELETE AN INSTANCE -------------------->
<h4 id='cloudstack-destroy-an-instance'>Destroy an instance</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint:443/v1/services/compute-on/test_area/instances/5bf7352c-eed2-43dc-83f1-89917fb893ca"</span> <span class="se">\</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"purgeImmediately"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"deleteSnapshots"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"publicIpIdsToRelease"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"fe446d61-a22c-403a-87bf-5351e65dc54d"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"volumeIdsToDelete"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"e3d4045d-3ef7-464d-92a3-fc18269f36e2"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id</code></p>

<p>Destroys an existing instance. The instance needs to be in the <em>Running</em>, <em>Stopped</em> or <em>Error</em> state for the operation to work. This endpoint allows you to do additional cleanup of resources attached to this instance such as <a href="#cloudstack-public-ips">public IPs</a>, <a href="#cloudstack-volumes">volumes</a> and <a href="#cloudstack-snapshots">snapshots</a>. If the purgeImmediately flag is not true, then it will not completely remove the instance from the <a href="#administration-environments">environment</a>. (i.e. the instance could still be recovered).</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>purgeImmediately</code><br/><em>boolean</em></td>
<td>Will destroy and purge the instance if true, puts the instance in destroyed state otherwise. An instance that wasn&#39;t purged can be recovered.</td>
</tr>
<tr>
<td><code>deleteSnapshots</code><br/><em>boolean</em></td>
<td>Will delete all <a href="#cloudstack-snapshots">snapshots</a> of volumes attached to this instance if true, will keep snapshots otherwise.</td>
</tr>
<tr>
<td><code>publicIpIdsToRelease</code><br/><em>Array[UUID]</em></td>
<td>List of IDs of the <a href="#cloudstack-public-ips">public IP addresses</a> to release with the instance. Can only release public IPs of the instance being destroyed and they must not be used by other instances.</td>
</tr>
<tr>
<td><code>volumeIdsToDelete</code><br/><em>Array[UUID]</em></td>
<td>List of IDs of the <a href="#cloudstack-volumes">data volumes</a> to delete with the instance. Can only destroy data volumes that are attached to this instance.</td>
</tr>
</tbody></table>

<!-------------------- START AN INSTANCE -------------------->
<h4 id='cloudstack-start-an-instance'>Start an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=start"</span>

</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=start</code></p>

<p>Start an existing instance. The instance must be in the <em>Stopped</em> state for this operation to work.</p>

<!-------------------- STOP AN INSTANCE -------------------->
<h4 id='cloudstack-stop-an-instance'>Stop an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=stop"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=stop</code></p>

<p>Stop an existing instance. The instance must be in the <em>Running</em> state for this operation to work.</p>

<!-------------------- REBOOT AN INSTANCE -------------------->
<h4 id='cloudstack-reboot-an-instance'>Reboot an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=reboot"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=reboot</code></p>

<p>Reboot an existing instance. The instance must be in the <em>Running</em> or <em>Stopped</em> state for this operation to work.</p>

<!-------------------- PURGE AN INSTANCE -------------------->
<h4 id='cloudstack-purge-an-instance'>Purge an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=purge"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=purge</code></p>

<p>Purges an existing instance (i.e. completely remove it from the environment). The instance must be in a <em>Destroyed</em> state.</p>

<!-------------------- RECOVER AN INSTANCE -------------------->
<h4 id='cloudstack-recover-an-instance'>Recover an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=recover"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=recover</code></p>

<p>Recover an existing instance that was previously destroyed. The instance must be in a <em>Destroyed</em> state.</p>

<!-------------------- CHANGE COMPUTE OFFERING OF AN INSTANCE -------------------->
<h4 id='cloudstack-change-the-compute-offering-of-an-instance'>Change the compute offering of an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=changeComputeOffering"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=changeComputeOffering</code></p>

<p>Change the compute offering of an existing instance.</p>

<aside class="caution">
  This will force a reboot of your instance.
</aside>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>computeOfferingId</code><br/><em>UUID</em></td>
<td>Id of the new compute offering for the instnace</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Required</th>
<th>(if custom compute offering)</th>
</tr>
</thead><tbody>
<tr>
<td><code>cpuCount</code><br/><em>integer</em></td>
<td>Number of CPUs for the instance</td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>integer</em></td>
<td>Amount of memory in MB for the instance</td>
</tr>
</tbody></table>

<!-------------------- RESET PASSWORD OF AN INSTANCE -------------------->
<h4 id='cloudstack-reset-the-password-of-an-instance'>Reset the password of an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=resetPassword"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=resetPassword</code></p>

<p>Reset the password of the default user of an existing instance. The new password of the instance will be in the task result.</p>

<!-------------------- CHANGE NETWORK OF AN INSTANCE -------------------->
<h4 id='cloudstack-change-network-of-an-instance'>Change network of an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=changeNetwork"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=changeNetwork</code></p>

<p>Move an instance to another network. NOTE: This will destroy all port forwarding rules associated to this instance and remove the instance from all load balancing rules. Additionally, it will reboot your instance.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The destination <a href="#cloudstack-networks">network</a>.</td>
</tr>
</tbody></table>

<!-------------------- ASSOCIATE AN SSH KEY TO AN INSTANCE -------------------->
<h4 id='cloudstack-associate-an-ssh-key-to-an-instance'>Associate an SSH key to an instance</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/instances/5951c2b8-e901-4c01-8ae0-cb8d7c508d29?operation=associateSSHKey"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"sshKeyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_ssh_key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=associateSSHKey</code></p>

<p>Associate a new <a href="#cloudstack-ssh-keys">SSH key</a> to the default user of an existing instance. This will override any other <a href="#cloudstack-ssh-keys">SSH key</a> associated to the instance for the default user. You can register a new SSH key with the <a href="#cloudstack-register-an-ssh-key">register SSH key</a> endpoint.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>sshKeyName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-ssh-keys">SSH key</a> to associate to the instance</td>
</tr>
</tbody></table>
<h3 id='cloudstack-templates'>Templates</h3>
<p>A template is a virtual disk image that can be used on the creation of an <a href="#cloudstack-instances">instance</a>. It contains the operating system which can contain some predefined configuration, files and software.</p>
<h4 id='cloudstack-list-templates'>List templates</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/templates"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b3fea04-b1ed-48cf-921d-96795dfe9a81"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example template"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">52428800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isReady"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isDynamicallyScalable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sshKeyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="s2">"2016-10-24 2:40:29 PM EDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"osType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other (64-bit)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"availableInZones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/templates</code></p>

<p>Retrieve a list of all templates of an <a href="#administration-environments">environment</a> It will include all the public templates of the system.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the template</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the template</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the template</td>
</tr>
<tr>
<td><code>size</code><br/><em>long</em></td>
<td>The size of the template in bytes</td>
</tr>
<tr>
<td><code>isPublic</code><br/><em>boolean</em></td>
<td>true if public to everyone. Your custom templates will always be private</td>
</tr>
<tr>
<td><code>isReady</code><br/><em>boolean</em></td>
<td>true if the template is ready to be used for a new <a href="#cloudstack-instances">instance</a></td>
</tr>
<tr>
<td><code>isDynamicallyScalable</code><br/><em>boolean</em></td>
<td>true if you can dynamically scale an <a href="#cloudstack-instances">instance</a> with this template</td>
</tr>
<tr>
<td><code>created</code><br/><em>string</em></td>
<td>The creation date of the template</td>
</tr>
<tr>
<td><code>osType</code><br/><em>string</em></td>
<td>The OS type of the template (e.g. Ubuntu, CentOS...)</td>
</tr>
<tr>
<td><code>availableInZones</code><br/><em>array[UUID]</em></td>
<td>List of all <a href="#cloudstack-zones">zone ids</a> that the template is available in</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-template'>Retrieve a template</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
<span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/templates/162cdfcb-45e5-4aa6-81c4-124c94621bdb"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0b3fea04-b1ed-48cf-921d-96795dfe9a81"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example template"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">52428800</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isPublic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isReady"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isDynamicallyScalable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sshKeyEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created"</span><span class="p">:</span><span class="s2">"2016-10-24 2:40:29 PM EDT"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"osType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Other (64-bit)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"availableInZones"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/templates/:id</code></p>

<p>Retrieve information about a public or private template of an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the template</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the template</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the template</td>
</tr>
<tr>
<td><code>size</code><br/><em>long</em></td>
<td>The size of the template in bytes</td>
</tr>
<tr>
<td><code>isPublic</code><br/><em>boolean</em></td>
<td>true if public to everyone. Your custom templates will always be private</td>
</tr>
<tr>
<td><code>isReady</code><br/><em>boolean</em></td>
<td>true if the template is ready to be used for a new <a href="#cloudstack-instances">instance</a></td>
</tr>
<tr>
<td><code>isDynamicallyScalable</code><br/><em>boolean</em></td>
<td>true if you can dynamically scale an <a href="#cloudstack-instances">instance</a> with this template</td>
</tr>
<tr>
<td><code>created</code><br/><em>string</em></td>
<td>The creation date of the template</td>
</tr>
<tr>
<td><code>osType</code><br/><em>string</em></td>
<td>The OS type of the template (e.g. Ubuntu, CentOS...)</td>
</tr>
<tr>
<td><code>availableInZones</code><br/><em>array[UUID]</em></td>
<td>List of all <a href="#cloudstack-zones">zone ids</a> that the template is available in</td>
</tr>
</tbody></table>
<h3 id='cloudstack-ssh-keys'>SSH keys</h3>
<p>SSH keys can be assigned to default users of instances by using the <a href="#cloudstack-associate-an-ssh-key-to-an-instance">associate SSH key</a> operation.</p>

<!-------------------- LIST SSH KEYS -------------------->
<h4 id='cloudstack-list-ssh-keys'>List SSH keys</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sshkeys"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mellon"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91:8d:71:ca:2d:2c:ad:97:26:db:cb:c3:df:9a:e9:b6"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys</code></p>

<p>Retrieve a list of all SSH keys in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the SSH key</td>
</tr>
<tr>
<td><code>fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key.</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN SSH KEY -------------------->
<h4 id='cloudstack-retrieve-an-ssh-key'>Retrieve an SSH key</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sshkeys/mellon"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mellon"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91:8d:71:ca:2d:2c:ad:97:26:db:cb:c3:df:9a:e9:b6"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys/:name</code></p>

<p>Retrieve information about an SSH key of an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the SSH key</td>
</tr>
<tr>
<td><code>fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key.</td>
</tr>
</tbody></table>
<h3 id='cloudstack-affinity-groups'>Affinity groups</h3>
<p>Affinity groups are a way of influencing on which host an <a href="#cloudstack-instances">instance</a> will be deployed. An anti-affinity group (the only type of affinity group we support) allows you to put <a href="#cloudstack-instances">instances</a> on different hosts to increase fault-tolerance. In the unlikely event of a host failure, your services would still be up on another host (assuming you distribute your services on multiple instances).</p>

<!-------------------- LIST AFFINITY GROUPS -------------------->
<h4 id='cloudstack-list-affinity-groups'>List affinity groups</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
<span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/affinitygroups"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4fd794f-66e1-4906-a720-d0afb04bd517"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/affinitygroups</code></p>

<p>Retrieve a list of all affinity groups in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the affinity group</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the affinity group</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#cloudstack-instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE AN AFFINITY GROUP -------------------->
<h4 id='cloudstack-retrieve-an-affinity-group'>Retrieve an affinity group</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4fd794f-66e1-4906-a720-d0afb04bd517"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Retrieve information about an affinity group.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the affinity group</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the affinity group</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#cloudstack-instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- CREATE AN AFFINITY GROUP -------------------->
<h4 id='cloudstack-create-an-affinity-group'>Create an affinity group</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/affinitygroups"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gnr"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My affinity group"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"host anti-affinity"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/affinitygroups</code></p>

<p>Create an affinity group and add <a href="#cloudstack-instances">instances</a> to it.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the new affinity group</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>A description of the affinity group</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of new affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#cloudstack-instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- UPDATE AN AFFINITY GROUP -------------------->
<h4 id='cloudstack-update-an-affinity-group'>Update an affinity group</h4><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="s2">"92b4df86-fee3-4610-8167-78332b86362f"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"105f8b5e-5482-4bf5-88ca-7d7b7f431e3e"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Update the list of <a href="#cloudstack-instances">instances</a> in the affinity group.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the new affinity group</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>A description of the affinity group</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of new affinity group. We only support anti-affinity</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[UUID]</em></td>
<td>The ids of the <a href="#cloudstack-instances">instances</a> in the affinity group</td>
</tr>
</tbody></table>

<!-------------------- DELETE AN AFFINITY GROUP -------------------->
<h4 id='cloudstack-delete-an-affinity-group'>Delete an affinity group</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/affinitygroups/d4fd794f-66e1-4906-a720-d0afb04bd517"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/affinitygroups/:id</code></p>

<p>Delete an existing affinity group.</p>
<h2 id='cloudstack-networking'>Networking</h2><h3 id='cloudstack-vpcs'>VPCs</h3>
<p>A Virtual Private Cloud (VPC) is a logically isolated section of CloudMC, where you can build a multi-network application architecture.</p>

<!-------------------- LIST VPCS -------------------->
<h4 id='cloudstack-list-vpcs'>List VPCs</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fe8e398-06d6-482c-8f55-b805bde4d3cc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyVPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some VPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.0/22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requiresUpgrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceNatIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.253"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpnStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs</code></p>

<p>Retrieve a list of all VPCs of an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the VPC</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the VPC</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the VPC</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>The CIDR of a VPC</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the VPC</td>
</tr>
<tr>
<td><code>networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
<tr>
<td><code>requiresUpgrade</code><br/><em>string</em></td>
<td>true if the VPC needs to be upgraded</td>
</tr>
<tr>
<td><code>sourceNatIp</code><br/><em>string</em></td>
<td>The source NAT IP of the VPC</td>
</tr>
<tr>
<td><code>vpnStatus</code><br/><em>string</em></td>
<td>The status of the <a href="#cloudstack-remote-access-vpns">VPN</a>. The status can be <code>ENABLED</code> or <code>DISABLED</code></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A VPC -------------------->
<h4 id='cloudstack-retrieve-a-vpc'>Retrieve a VPC</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fe8e398-06d6-482c-8f55-b805bde4d3cc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MyVPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some VPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.0/22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"requiresUpgrade"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceNatIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.253"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpnStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs/:id</code></p>

<p>Retrieve information about a VPC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the VPC</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the VPC</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the VPC</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>The CIDR of a VPC</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the VPC was created</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the VPC</td>
</tr>
<tr>
<td><code>networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
<tr>
<td><code>requiresUpgrade</code><br/><em>string</em></td>
<td>true if the VPC needs to be upgraded</td>
</tr>
<tr>
<td><code>sourceNatIp</code><br/><em>string</em></td>
<td>The source NAT IP of the VPC</td>
</tr>
<tr>
<td><code>vpnStatus</code><br/><em>string</em></td>
<td>The status of the <a href="#cloudstack-remote-access-vpns">VPN</a>. The status can be <code>ENABLED</code> or <code>DISABLED</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE A VPC -------------------->
<h4 id='cloudstack-create-a-vpc'>Create a VPC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_vpc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My prod VPC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vpcOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21a40b85-5fa9-440f-ab77-5e560073b584"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkDomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hello.world"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs</code></p>

<p>Create a VPC in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the new VPC</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the new VPC</td>
</tr>
<tr>
<td><code>vpcOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpc-offerings">VPC offering</a> to use for the new VPC</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkDomain</code><br/><em>string</em></td>
<td>A custom DNS suffix at the level of a network</td>
</tr>
</tbody></table>

<!-------------------- UPDATE A VPC -------------------->
<h4 id='cloudstack-update-a-vpc'>Update a VPC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs/d77e1ab1-0320-4504-83c5-e78b431c7577"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_vpc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My prod VPC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs</code></p>

<p>Update an existing VPC in your <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The new name of the VPC</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The new description of the VPC</td>
</tr>
</tbody></table>

<!-------------------- DELETE A VPC -------------------->
<h4 id='cloudstack-destroy-a-vpc'>Destroy a VPC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs/:id</code></p>

<p>Destroy an existing VPC. To delete a VPC, you must first delete all the <a href="#cloudstack-networks">networks</a> in the VPC.</p>

<!-------------------- RESTART A VPC -------------------->
<h4 id='cloudstack-restart-a-vpc'>Restart a VPC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcs/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e?operation=restart"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs/:id?operation=restart</code></p>

<p>Restart the router of a VPC.</p>
<h3 id='cloudstack-networks'>Networks</h3>
<p>A network is an isolated network with its own VLANs and CIDR list, where you can place groups of resources, such as <a href="#cloudstack-instances">instances</a>. They can exist as VPC subnets, or as simple isolated networks, provided the appropriate network offerings exist.</p>

<!-------------------- LIST NETWORK -------------------->
<h4 id='cloudstack-list-networks'>List networks</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ef7539c-c9ba-49f3-a484-a08f4ffb2234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frontend"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default network"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12b8c150-b444-482a-8411-c08eaccb0a3b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SomeVPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.0/24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkAclName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9593f0df-573a-43c4-a107-a5c704a7cfee"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Network"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Offering for Isolated Vpc networks with Source Nat service enabled"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Implemented"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks</code></p>

<p>Retrieve a list of all networks of an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the network</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> where the network was created</td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a> where the network was created</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the network was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the network was created</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>The cidr of the network</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network</td>
</tr>
<tr>
<td><code>netmask</code><br/><em>string</em></td>
<td>The netmask of the network</td>
</tr>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-acls">network ACL</a> of the the network</td>
</tr>
<tr>
<td><code>networkAclName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-network-acls">network ACL</a> of the the network</td>
</tr>
<tr>
<td><code>networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>networkOfferingName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>networkOfferingDescription</code><br/><em>string</em></td>
<td>The description of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the network. <code>Allocated</code> if no instances where created in the network yet, <code>Implemented</code> otherwise.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the networks of a <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>zone_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the networks in a specific <a href="#cloudstack-zones">zone</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A NETWORK -------------------->
<h4 id='cloudstack-retrieve-a-network'>Retrieve a network</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8ef7539c-c9ba-49f3-a484-a08f4ffb2234"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Frontend"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default network"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12b8c150-b444-482a-8411-c08eaccb0a3b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SomeVPC"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.0/24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.254.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkAclName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9593f0df-573a-43c4-a107-a5c704a7cfee"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Network"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkOfferingDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Offering for Isolated Vpc networks with Source Nat service enabled"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Implemented"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/:id</code></p>

<p>Retrieve information about a network.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the network</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> where the network was created</td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a> where the network was created</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the network was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the network was created</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>The cidr of the network</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network</td>
</tr>
<tr>
<td><code>netmask</code><br/><em>string</em></td>
<td>The netmask of the network</td>
</tr>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-acls">network ACL</a> of the the network</td>
</tr>
<tr>
<td><code>networkAclName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-network-acls">network ACL</a> of the the network</td>
</tr>
<tr>
<td><code>networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>networkOfferingName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>networkOfferingDescription</code><br/><em>string</em></td>
<td>The description of the <a href="#cloudstack-network-offerings">network offering</a> of the network</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the network. <code>Allocated</code> if no instances where created in the network yet, <code>Implemented</code> otherwise.</td>
</tr>
</tbody></table>

<!-------------------- CREATE A NETWORK -------------------->
<h4 id='cloudstack-create-a-network'>Create a network</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_network"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My production network"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1932c7c-0b85-450f-92b9-bfdeb3e80804"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c5d4ffcd-56e2-407a-8b4d-06082b7365c4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9ba3ec65-2e1d-11e4-8e05-42a29a39fc92"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks</code></p>

<p>Create a network in an <a href="#administration-environments">environment</a></p>

<p>If the network offering is a VPC subnet offering (indicated by the <code>vpcOnly</code> flag on the offering), the vpcId and networkAclId are required fields.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the new network</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the new network</td>
</tr>
<tr>
<td><code>networkOfferingId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-offerings">network offering</a> to use for the network</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Required (if VPC subnet)</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the VPC where to create the network</td>
</tr>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-network-acls">network ACL</a> to use for the network</td>
</tr>
</tbody></table>

<!-------------------- UPDATE A NETWORK -------------------->
<h4 id='cloudstack-update-a-network'>Update a network</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_network"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated production network"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1</code></p>

<p>Update an existing network in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The updated name of the network</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The updated description of the network</td>
</tr>
</tbody></table>

<!-------------------- DELETE A NETWORK -------------------->
<h4 id='cloudstack-delete-a-network'>Delete a network</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1</code></p>

<p>Delete an existing network in an <a href="#administration-environments">environment</a> To delete a network, you must first delete all the <a href="#cloudstack-instances">instances</a> in the network.</p>

<!-------------------- REPLACE THE NETWORK ACL OF A NETWORK -------------------->
<h4 id='cloudstack-replace-the-network-acl'>Replace the network ACL</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1?operation=replace"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_updated_network"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My updated production network"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/9572d2ea-a60d-478a-a75e-8ed31f2641f1?operation=replace</code></p>

<p>Replace the <a href="#cloudstack-network-acls">network ACL</a> for a VPC subnet.
<aside class="caution">
  This operation is not allowed on isolated networks.
</aside></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkAclId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-network-acls">network ACL</a> to use for the network</td>
</tr>
</tbody></table>
<!-- ACLs -->
<h3 id='cloudstack-network-acls'>Network ACLs</h3>
<p>Manage access control lists and their rules. To apply an ACL to a VPC subnet, <a href="#cloudstack-replace-the-network-acl-of-a-network">replace the ACL of a network</a>.</p>
<h4 id='cloudstack-list-network-acls'>List network ACLs</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkacls?vpc_id=eb763d03-9935-4cd4-8a42-99134e242ccb"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allows network egress"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_allow"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default Network ACL Allow All"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32467792-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_deny"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default Network ACL Deny All"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkacls?vpc_id=:vpc_id</code></p>

<p>Retrieve a list of network ACLs in a VPC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network ACL</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The VPC where this rule is available. Not present on <code>default_allow</code> and <code>default_deny</code> ACLs</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the network ACLs of a specific <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-network-acl'>Retrieve a network ACL</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkacls/:id"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eb763d03-9935-4cd4-8a42-99134e242ccb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"custom-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allows network egress"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkacls/:id</code></p>

<p>Retrieve a specific network ACL by its id.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network ACL</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The VPC where this rule is available. Not present on <code>default_allow</code> and <code>default_deny</code> ACLs</td>
</tr>
</tbody></table>
<h4 id='cloudstack-create-network-acl'>Create network ACL</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkacls"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkacls</code></p>

<p>Create a new network ACL associated to a VPC.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network ACL</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The description of the network ACL</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>Networks of this VPC will be able to use the new ACL</td>
</tr>
</tbody></table>
<h4 id='cloudstack-delete-a-network-acl'>Delete a network ACL</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkacls/736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkacls/:id</code></p>

<p>Delete an ACL and all of its rules.</p>

<!-- ACL rules -->
<h4 id='cloudstack-list-a-network-acl-39-s-rules'>List a network ACL&#39;s rules</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkaclrules?network_acl_id=3246de94-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Egress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246fdb6-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ingress"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkaclrules?network_acl_id=:network_acl_id</code></p>

<p>List a network ACL&#39;s rules.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network ACL rule</td>
</tr>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL that this rule belongs to</td>
</tr>
<tr>
<td><code>ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code>action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code>trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of this rule. Either Active or Inactive</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>network_acl_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the rules of a specific <a href="#cloudstack-network-acls">network ACL</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-network-acl-rule'>Retrieve a network ACL rule</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3247167a-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkAclId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3246de94-e7e7-11e3-9187-06669c0000ad"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ruleNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allow"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ALL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trafficType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Egress"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkaclrules/:id</code></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network ACL rule</td>
</tr>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL that this rule belongs to</td>
</tr>
<tr>
<td><code>ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code>action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code>trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of this rule. Either Active or Inactive</td>
</tr>
</tbody></table>
<h4 id='cloudstack-create-a-network-acl-rule'>Create a network ACL rule</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkaclrules"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkaclrules</code></p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkAclId</code><br/><em>UUID</em></td>
<td>The id of the network ACL to add this rule to</td>
</tr>
<tr>
<td><code>ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code>action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code>trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
</tbody></table>

<aside class="notice">
For rules with protocol <code>ALL</code>, no protocol-specific information is required. For all other protocols, see the protocol-specific fields below.
</aside>

<table><thead>
<tr>
<th>Protocol-specific</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>startPort</code><br/><em>int</em></td>
<td>The start of the port range targeted by this rule. Required if the protocol is TCP or UDP</td>
</tr>
<tr>
<td><code>endPort</code><br/><em>int</em></td>
<td>The end of the port range targeted by this rule. Required if the protocol is TCP or UDP</td>
</tr>
<tr>
<td><code>icmpType</code><br/><em>int</em></td>
<td>ICMP message type. Required if the protocol is ICMP</td>
</tr>
<tr>
<td><code>icmpCode</code><br/><em>int</em></td>
<td>ICMP message error code. Required if the protocol is ICMP</td>
</tr>
</tbody></table>
<h4 id='cloudstack-update-a-network-acl-rule'>Update a network ACL rule</h4><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkaclrules/:id</code></p>

<p>Update a network ACL rule.</p>

<aside class="notice">
A rule's protocol can only be changed from TCP to UDP or vice versa.
</aside>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>ruleNumber</code><br/><em>int</em></td>
<td>The relative position of this rule in its ACL</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>CIDR</em></td>
<td>The network addresses targeted by this rule</td>
</tr>
<tr>
<td><code>action</code><br/><em>string</em></td>
<td>What to do with traffic matched by this rule. Either Allow or Deny</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocols targeted by this rule. TCP, UDP, ICMP, or ALL</td>
</tr>
<tr>
<td><code>trafficType</code><br/><em>string</em></td>
<td>The direction of traffic targeted by this rule. Either Ingress or Egress</td>
</tr>
<tr>
<td><code>startPort</code><br/><em>int</em></td>
<td>The start of the port range targeted by this rule</td>
</tr>
<tr>
<td><code>endPort</code><br/><em>int</em></td>
<td>The end of the port range targeted by this rule</td>
</tr>
<tr>
<td><code>icmpType</code><br/><em>int</em></td>
<td>ICMP message type</td>
</tr>
<tr>
<td><code>icmpCode</code><br/><em>int</em></td>
<td>ICMP message error code</td>
</tr>
</tbody></table>
<h4 id='cloudstack-delete-a-network-acl-rule'>Delete a network ACL rule</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkaclrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkaclrules/:id</code></p>

<p>Delete a specific rule of a network ACL.</p>
<h3 id='cloudstack-public-ips'>Public IPs</h3><h4 id='cloudstack-list-public-ips'>List public IPs</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0ed72307-e33d-4d41-90b7-7d2b4f0d1ae0"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"instances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"986cfea3-4a94-407d-b915-eb2d49e4323f"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-pdube-F49"</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.98"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"def89cb6-f897-435a-ad7f-6b2d05ab11e6"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PORT_FORWARDING"</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"secondary"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"208.80.152.201"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"SOURCE_NAT"</span><span class="w">
         </span><span class="p">],</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses</code></p>

<p>List allocated public IP addresses.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the public IP</td>
</tr>
<tr>
<td><code>instances</code><br/><em>Array[<a href="#cloudstack-instances">Instance</a>]</em></td>
<td>The associated <a href="#cloudstack-instances">instances</a> <br/><em>includes</em>: <code>id</code>,<code>name</code></td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The IP address (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The associated <a href="#cloudstack-networks">network</a> id</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The associated <a href="#cloudstack-networks">network</a> name</td>
</tr>
<tr>
<td><code>purposes</code><br/><em>Array[string]</em></td>
<td>The list of purposes of the IP address.</br><em>Possible values:</em> <code>STATIC_NAT</code>, <code>PORT_FORWARDING</code>, <code>LOAD_BALANCING</code>, <code>SOURCE_NAT</code> or <code>SOURCE_NAT</code> and <code>VPN</code></td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the public IP</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a></td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the public IPs in a specific <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the public IPs associated to a specific <a href="#cloudstack-instances">instance</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-public-ip'>Retrieve a public IP</h4><pre class="highlight shell tab-shell"><code>curl -X GET -H <span class="s2">"MC-Api-Key: your_api_key"</span>
<span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses/10001e7d-b4ef-489b-836e-0619a383bc8d"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"208.80.152.201"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"purposes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"SOURCE_NAT"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Allocated"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses/:id</code></p>

<p>Retrieve a public IP address.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the public IP</td>
</tr>
<tr>
<td><code>instances</code><br/><em>Array[<a href="#cloudstack-instances">Instance</a>]</em></td>
<td>The associated <a href="#cloudstack-instances">instances</a> <br/><em>includes</em>: <code>id</code>,<code>name</code></td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The IP address (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The associated <a href="#cloudstack-networks">network</a> id</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The associated <a href="#cloudstack-networks">network</a> name</td>
</tr>
<tr>
<td><code>purposes</code><br/><em>Array[string]</em></td>
<td>The list of purposes of the IP address.</br><em>Possible values:</em> <code>STATIC_NAT</code>, <code>PORT_FORWARDING</code>, <code>LOAD_BALANCING</code>, <code>SOURCE_NAT</code> or <code>SOURCE_NAT</code> and <code>VPN</code></td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the public IP</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a></td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-acquire-a-public-ip'>Acquire a public IP</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0687f5ce-89f9-47c8-9f58-c522455d56eb"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses</code></p>

<p>Acquire a public IP address for a <a href="#cloudstack-vpcs">VPC</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> where to acquire the public IP</td>
</tr>
</tbody></table>
<h4 id='cloudstack-release-a-public-ip'>Release a public IP</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses/:id</code></p>

<p>Release a public IP. When acquiring a public IP, you are not guaranteed to receive a previously owned public IP, so be careful when releasing public IPs.</p>
<h4 id='cloudstack-enable-static-nat'>Enable static NAT</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b?operation=enableStaticNat"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e30609d-7098-4d93-8317-3ecfe316ed00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses/:id?operation=enableStaticNat</code></p>

<p>Enable static NAT on a public IP address.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>privateIpId</code><br/><em>string</em></td>
<td>The private IP id of the <a href="#cloudstack-instances">instance</a> which is to be available on that IP. It can also be done on a secondary IP id.</td>
</tr>
</tbody></table>
<h4 id='cloudstack-disable-static-nat'>Disable static NAT</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/publicipaddresses/a723b2b1-e343-4ea1-afe0-bf345a99a92b?operation=disableStaticNat"</span>

</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/publicipaddresses/:id?operation=disableStaticNat</code></p>

<p>Disable static NAT on that public IP.</p>
<h3 id='cloudstack-port-forwarding-rules'>Port forwarding rules</h3>
<p>Port forwarding allows traffic from external hosts to services offered by applications in your <a href="#cloudstack-vpcs">VPCs</a>. A port forwarding rule is a mapping of public IP ports to <a href="#cloudstack-nics">private IP</a> ports (i.e. forwards traffic from a public IP to an instance).</p>

<!-------------------- LIST PORT FORWARDING RULES -------------------->
<h4 id='cloudstack-list-port-forwarding-rules'>List port forwarding rules</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/portforwardingrules"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf145d1e-7beb-42b8-bd2c-1a316aeb9aef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74.121.244.23"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747e30d0-a0cd-48ba-b7d8-77a2f7e10504"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7328dd9-882e-4d08-8ad2-c74c2d493689"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app_instance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7388f551-4163-4467-b49b-58e9310d7207"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39907f0a-c253-42b8-b02d-337e00e9851e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145   "</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/portforwardingrules</code></p>

<p>Retrieve a list of all port forwarding rules of an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the port forwarding rule</td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The ip address of the <a href="#cloudstack-public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code>ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code>privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code>privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code>publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code>publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol of the port forwarding rule (e.g. TCP, UDP)</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#networks">network</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>privateIp</code><br/><em>string</em></td>
<td>The private IP address of the <a href="#cloudstack-instances">instance</a> where the traffic will be forwarded</td>
</tr>
<tr>
<td><code>privateIpId</code><br/><em>UUID</em></td>
<td>The id of private IP address of the <a href="#cloudstack-instances">instance</a> where traffic will be forwarded</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the port forwarding rules of an <a href="#cloudstack-instances">instance</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A PORT FORWARDING RULE -------------------->
<h4 id='cloudstack-retrieve-a-port-forwarding-rule'>Retrieve a port forwarding rule</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/portforwardingrules/ad5bcae8-ee8b-4ee8-a7a4-381c25444b8e"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf145d1e-7beb-42b8-bd2c-1a316aeb9aef"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74.121.244.23"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"747e30d0-a0cd-48ba-b7d8-77a2f7e10504"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_app_instance"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7328dd9-882e-4d08-8ad2-c74c2d493689"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7388f551-4163-4467-b49b-58e9310d7207"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39907f0a-c253-42b8-b02d-337e00e9851e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.155.24.145"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"privateIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fc9d60a5-a8f8-4d01-a63f-f1731440063f"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/portforwardingrules/:id</code></p>

<p>Retrieve information about a port forwarding rule.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the port forwarding rule</td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The ip address of the <a href="#cloudstack-public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code>ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> associated to this port forwarding rule</td>
</tr>
<tr>
<td><code>privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code>privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code>publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code>publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol of the port forwarding rule (e.g. TCP, UDP)</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-instances">instance</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#networks">network</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> of the port forwarding rule</td>
</tr>
<tr>
<td><code>privateIp</code><br/><em>string</em></td>
<td>The private IP address of the <a href="#cloudstack-instances">instance</a> where requests will be forwarded</td>
</tr>
<tr>
<td><code>privateIpId</code><br/><em>UUID</em></td>
<td>The id of private IP address of the <a href="#cloudstack-instances">instance</a> where requests will be forwarded</td>
</tr>
</tbody></table>

<!-------------------- CREATE A PORT FORWARDING RULE -------------------->
<h4 id='cloudstack-create-a-port-forwarding-rule'>Create a port forwarding rule</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/portforwardingrules"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ipAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4daf6ce5-a8b1-47d2-96b3-8edda63d891c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0ec9ee23-f9dd-4830-acb6-7f8d4469673a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"privatePortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"privatePortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8080"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicPortStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicPortEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/portforwardingrules</code></p>

<p>Create a port forwarding rule for a <a href="#cloudstack-public-ips">public IP</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>ipAddressId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> where the port forwarding should be created</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol (e.g. TCP, UDP) to forward</td>
</tr>
<tr>
<td><code>privatePortStart</code><br/><em>string</em></td>
<td>The start of the private port range</td>
</tr>
<tr>
<td><code>privatePortEnd</code><br/><em>string</em></td>
<td>The end of the private port range</td>
</tr>
<tr>
<td><code>publicPortStart</code><br/><em>string</em></td>
<td>The start of the public port range</td>
</tr>
<tr>
<td><code>publicPortEnd</code><br/><em>string</em></td>
<td>The end of the public port range</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> that will have a port forwarded (it will use the default private port)</td>
</tr>
<tr>
<td><code>privateIpId</code><br/><em>UUID</em></td>
<td>The id of the private IP to forward</td>
</tr>
</tbody></table>

<!-------------------- DELETE A PORT FORWARDING RULE -------------------->
<h4 id='cloudstack-delete-a-port-forwarding-rule'>Delete a port forwarding rule</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/portforwardingrules/7d22b390-cbb3-4df6-96c6-52901ccb63c0"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/portforwardingrules/:id</code></p>

<p>Delete an existing port forwarding rule.</p>
<!-- Load balancer rules -->
<h3 id='cloudstack-load-balancer-rules'>Load balancer rules</h3><h4 id='cloudstack-list-load-balancer-rules'>List load balancer rules</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules?public_ip_id=eb763d03-9935-4cd4-8a42-99134e242ccb"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32804ef2-dea6-4b07-b507-b3562bb9844a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_lbr"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"394873ef-8655-49b6-8096-58b99c4e2347"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.202"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ebac5d-18cc-4eea-ab59-7a2af0691c88"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicPort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"privatePort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundrobin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stickinessMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AppCookie"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
           </span><span class="s2">"d7048640-35d4-4a4f-8193-f4837da7e861"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"sslCertificateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1bea50a-e5f0-4b1e-bc0d-1dde909ac49a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stickinessPolicyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"217c1140-4146-4af0-92e9-ad47d4ff5ba9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"stickinessPolicyParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"indirect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_domain"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"postonly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"nocache"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"cookieName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
        </span><span class="p">}</span><span class="w">
     </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules?public_ip_id=:public_ip_id</code></p>

<p>Retrieve a list of load balancer rules.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the load balancer rule</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the load balancer rule</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-networks">network</a> id of the load balancer rule</td>
</tr>
<tr>
<td><code>publicIp</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-public-ips">public IP</a> of this load balancer rule</td>
</tr>
<tr>
<td><code>publicIpId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> of this load balancer rule</td>
</tr>
<tr>
<td><code>publicPort</code><br/><em>int</em></td>
<td>The public port of this load balancer rule</td>
</tr>
<tr>
<td><code>privatePort</code><br/><em>int</em></td>
<td>The private port of this load balancer rule</td>
</tr>
<tr>
<td><code>algorithm</code><br/><em>string</em></td>
<td>The algorithm to use for this load balancer rule</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol to load balance</td>
</tr>
<tr>
<td><code>stickinessMethod</code><br/><em>string</em></td>
<td>The stickiness policy of the load balancer rule</td>
</tr>
<tr>
<td><code>stickinessPolicyParameters</code><br/><em>Map[string,string]</em></td>
<td>The stickiness policy parameters of the load balancer rule</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[string]</em></td>
<td>The ids of the instances being load balanced</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>public_ip_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the load balancer rules of a <a href="#cloudstack-public-ips">public IP</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-load-balancer-rule'>Retrieve a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules/:id"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f8ed7f44-449c-4510-848c-dc18e6665db1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web_lbr"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"394873ef-8655-49b6-8096-58b99c4e2347"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publicIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"172.31.3.202"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publicIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ebac5d-18cc-4eea-ab59-7a2af0691c88"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"publicPort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"privatePort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundrobin"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stickinessMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LbCookie"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="s2">"056cbb23-9021-4df7-b458-721ed9153ba9"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"stickinessPolicyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29a1946c-5b59-4ab1-b9b8-5c73444b1c10"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"stickinessPolicyParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"indirect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_domain"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"postonly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"nocache"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"cookieName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules/:id</code></p>

<p>Retrieve a specific load balancer rule by its id.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the load balancer rule</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the load balancer rule</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-networks">network</a> id of the load balancer rule</td>
</tr>
<tr>
<td><code>publicIp</code><br/><em>UUID</em></td>
<td>The <a href="#cloudstack-public-ips">public IP</a> of this load balancer rule</td>
</tr>
<tr>
<td><code>publicIpId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> of this load balancer rule</td>
</tr>
<tr>
<td><code>publicPort</code><br/><em>int</em></td>
<td>The public port of this load balancer rule</td>
</tr>
<tr>
<td><code>privatePort</code><br/><em>int</em></td>
<td>The private port of this load balancer rule</td>
</tr>
<tr>
<td><code>algorithm</code><br/><em>string</em></td>
<td>The algorithm to use for this load balancer rule</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol to load balance</td>
</tr>
<tr>
<td><code>stickinessMethod</code><br/><em>string</em></td>
<td>The stickiness policy of the load balancer rule</td>
</tr>
<tr>
<td><code>stickinessPolicyParameters</code><br/><em>Map[string,string]</em></td>
<td>The stickiness policy parameters of the load balancer rule</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[string]</em></td>
<td>The ids of the instances being load balanced</td>
</tr>
</tbody></table>
<h4 id='cloudstack-create-a-load-balancer-rule'>Create a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules"</span>
<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"publicIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44ebac5d-18cc-4eea-ab59-7a2af0691c88"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"093f6208-8a56-4035-8e71-3e39029fc5aa"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"publicPort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"privatePort"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundrobin"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssl"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"stickinessMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AppCookie"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"d7048640-35d4-4a4f-8193-f4837da7e861"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"sslCertificateId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b1bea50a-e5f0-4b1e-bc0d-1dde909ac49a"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"stickinessPolicyParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"holdtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">3600000</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules</code></p>

<p>Create a new load balancer rule associated to a public IP.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the load balancer rule</td>
</tr>
<tr>
<td><code>publicIpId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a> of this load balancer rule</td>
</tr>
<tr>
<td><code>publicPort</code><br/><em>int</em></td>
<td>The public port of this load balancer rule</td>
</tr>
<tr>
<td><code>privatePort</code><br/><em>int</em></td>
<td>The private port of this load balancer rule</td>
</tr>
<tr>
<td><code>algorithm</code><br/><em>string</em></td>
<td>The algorithm to use for this load balancer rule (roundrobin, leastconn or source)</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The protocol to load balance (TCP, UDP or TCP-PROXY)</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional (required if <a href="#cloudstack-public-ips">public IP</a> already assigned a <a href="#cloudstack-networks">network</a>)</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkId</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-networks">network</a> id of the load balancer rule</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>stickinessMethod</code><br/><em>string</em></td>
<td>The stickiness policy of the load balancer rule</td>
</tr>
<tr>
<td><code>stickinessPolicyParameters</code><br/><em>Map[string, object]</em></td>
<td>The stickiness policy parameters of the load balancer rule</td>
</tr>
<tr>
<td><code>instanceIds</code><br/><em>Array[string]</em></td>
<td>The ids of the instances being load balanced</td>
</tr>
<tr>
<td><code>sslCertificateId</code><br/><em>UUID</em></td>
<td>The id of the SSL certificate for the load balancer rule. Can only be used with SSL protocol.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>LbCookie parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>cookieName</code><br/><em>string</em></td>
<td>Name of the cookie to be inserted by the load balancer for load balancing</td>
</tr>
<tr>
<td><code>mode</code><br/><em>string</em></td>
<td>rewrite, insert or prefix. rewrite: This keyword indicates that the cookie will be provided by the server and that the load balancer will have to modify its value to set the server&#39;s identifier in it. insert: This keyword indicates that the persistence cookie will have to be inserted by the load balancer in server responses if the client did not already have a cookie that would have permitted it to access this server. prefix: This keyword indicates that instead of relying on a dedicated cookie for the persistence, an existing one will be completed.</td>
</tr>
<tr>
<td><code>nocache</code><br/><em>boolean</em></td>
<td>This option is recommended in conjunction with the insert mode when there is a cache between the client and the load balancer, as it ensures that a cacheable response will be tagged non-cacheable if a cookie needs to be inserted.</td>
</tr>
<tr>
<td><code>indirect</code><br/><em>boolean</em></td>
<td>When this option is specified, no cookie will be emitted to a client which already has a valid one for the server which has processed the request.</td>
</tr>
<tr>
<td><code>postonly</code><br/><em>boolean</em></td>
<td>This option ensures that cookie insertion will only be performed on responses to POST requests.</td>
</tr>
<tr>
<td><code>domain</code><br/><em>string</em></td>
<td>This option allows to specify the domain at which a cookie is inserted.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>AppCookie parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>cookieName</code><br/><em>string</em></td>
<td>Name of the cookie to be inserted by the application for load balancing.</td>
</tr>
<tr>
<td><code>mode</code><br/><em>string</em></td>
<td>This option allows to change the URL parser mode. <code>path-parameters</code>(default) will look for the appsession cookie in the path parameters. <code>query-parameters</code> will look for the appsession cookie in the query parameters.</td>
</tr>
<tr>
<td><code>length</code><br/><em>string</em></td>
<td>The maximum number of characters to check in the cookie value.</td>
</tr>
<tr>
<td><code>holdtime</code><br/><em>boolean</em></td>
<td>Time in milliseconds that the cookie should be saved.</td>
</tr>
<tr>
<td><code>requestLearn</code><br/><em>boolean</em></td>
<td>If true, then it will be able to learn the cookie found in the request in case the server does not specify any in response.</td>
</tr>
<tr>
<td><code>prefix</code><br/><em>string</em></td>
<td>If true, then it will match on the cookie prefix (or URL parameter prefix). The appsession value is the data following this prefix.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>SourceBased parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>tableSize</code><br/><em>string</em></td>
<td>The maximum number of entries that can be stored in the table.</td>
</tr>
<tr>
<td><code>expires</code><br/><em>string</em></td>
<td>Defines the maximum duration of an entry in the table since it was last created, refreshed or matched. The expiration delay is defined using the standard time format, similarly as the various timeouts.</td>
</tr>
</tbody></table>

<p>For more information, please consult section 4.2 of the HAProxy <a href="https://cbonte.github.io/haproxy-dconv/1.5/configuration.html">configuration manual</a>. (<a href="https://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4.2-appsession">AppCookie</a>, <a href="https://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4.2-cookie">LbCookie</a>, <a href="https://cbonte.github.io/haproxy-dconv/1.5/configuration.html#4.2-stick-table">SourceBased</a>)</p>
<h4 id='cloudstack-update-a-load-balancer-rule'>Update a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
   <span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"algorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"roundrobin"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules/:id</code></p>

<p>Update a load balancer rule.</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the load balancer rule</td>
</tr>
<tr>
<td><code>algorithm</code><br/><em>string</em></td>
<td>The algorithm of the load balancer rule (roundrobin, leastconn or source)</td>
</tr>
</tbody></table>
<h4 id='cloudstack-update-instances-of-a-load-balancer-rule'>Update instances of a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
   <span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"instanceIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"95d034b5-b902-440c-b430-120efaed9caf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"60df0bc2-f59b-4608-8147-1b8ac4a39add"</span><span class="w">
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules/:id?operation=updateInstances</code></p>

<p>Update instances of a load balancer rule.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>instanceIds</code><br/><em>Array[String]</em></td>
<td>The instances of the load balancer rule</td>
</tr>
</tbody></table>
<h4 id='cloudstack-update-stickiness-policy-of-a-load-balancer-rule'>Update stickiness policy of a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules/3247167a-e7e7-11e3-9187-06669c0000ad"</span>
   <span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"stickinessMethod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LbCookie"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"stickinessPolicyParameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"indirect"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_domain"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"postonly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"nocache"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cookieName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>PUT /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules/:id?operation=updateStickiness</code></p>

<p>Update instances of a load balancer rule.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>stickinessMethod</code><br/><em>string</em></td>
<td>The stickiness policy for the load balancer rule</td>
</tr>
<tr>
<td><code>stickinessPolicyParameters</code><br/><em>Map[String, String]</em></td>
<td>The parameters for the stickiness policy of the load balancer rule</td>
</tr>
</tbody></table>

<p>See <a href="#cloudstack-create-a-load-balancer-rule">Create a load balance rule</a> for stickiness policy parameters documentation.</p>
<h4 id='cloudstack-delete-a-load-balancer-rule'>Delete a load balancer rule</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/loadbalancerrules/736d0c2e-d6b5-43fc-bcf0-732fce9a509e"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/loadbalancerrules/:id</code></p>

<p>Delete a load balancer rule.</p>
<h3 id='cloudstack-nics'>NICs</h3>
<!-------------------- LIST NICS -------------------->
<h4 id='cloudstack-list-nics'>List NICs</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/nics"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fff1f45a-8350-4c87-be43-947b96d01ebd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NIC-0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.165"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2243d4c-0dd8-4f8c-9ab4-4b1d285d5642"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Backend"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3ta-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5aa9f5d7-55a9-43bf-bd2c-78a6bae1b267"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-vpc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secondaryIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c28e297-5d23-41a3-a167-34dc24f1df19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.124"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET <a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/portforwardingrules</code></p>

<p>Retrieve a list of all NICs.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the NIC</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the NIC</td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The IP address of the NIC</td>
</tr>
<tr>
<td><code>isDefault</code><br/><em>string</em></td>
<td>true if it&#39;s the default NIC of the <a href="#cloudstack-instances">instance</a> (i.e. it will be the private IP on the instance)</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-networks">network</a> of the NIC</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-networks">network</a> of the NIC</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the <a href="#cloudstack-networks">network</a> associated with the NIC</td>
</tr>
<tr>
<td><code>netmask</code><br/><em>string</em></td>
<td>The netmask of the <a href="#cloudstack-networks">network</a> associated with the NIC</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>string</em></td>
<td>The id of the instance associated with the NIC</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code>secondaryIps</code><br/><em>SecondaryIP</em></td>
<td>The list of secondary IPs of the NIC<br/><em>includes:</em> <code>id</code>, <code>ipAddress</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the NICs of a specific <a href="#cloudstack-instances">instance</a></td>
</tr>
<tr>
<td><code>network_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the NICs of a specific <a href="#cloudstack-networks">network</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A NIC -------------------->
<h4 id='cloudstack-retrieve-a-nic'>Retrieve a NIC</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/nics/fff1f45a-8350-4c87-be43-947b96d01ebd"</span>

<span class="c"># Example response:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fff1f45a-8350-4c87-be43-947b96d01ebd"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NIC-0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.165"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2243d4c-0dd8-4f8c-9ab4-4b1d285d5642"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Backend"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"gateway"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"netmask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255.255.255.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3ta-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5aa9f5d7-55a9-43bf-bd2c-78a6bae1b267"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vpcName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default-vpc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secondaryIps"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9c28e297-5d23-41a3-a167-34dc24f1df19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ipAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.169.253.124"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/nics/:id</code></p>

<p>Retrieve an existing NIC.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the NIC</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the NIC</td>
</tr>
<tr>
<td><code>ipAddress</code><br/><em>string</em></td>
<td>The IP address of the NIC</td>
</tr>
<tr>
<td><code>isDefault</code><br/><em>string</em></td>
<td>true if it&#39;s the default NIC of the <a href="#cloudstack-instances">instance</a> (i.e. it will be the private IP on the instance)</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-networks">network</a> of the NIC</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-networks">network</a> of the NIC</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the <a href="#cloudstack-networks">network</a> associated with the NIC</td>
</tr>
<tr>
<td><code>netmask</code><br/><em>string</em></td>
<td>The netmask of the <a href="#cloudstack-networks">network</a> associated with the NIC</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> associated with the NIC</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code>vpcName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-vpcs">VPC</a> associated with the NIC</td>
</tr>
<tr>
<td><code>secondaryIps</code><br/><em>SecondaryIP</em></td>
<td>The list of secondary IPs of the NIC<br/><em>includes:</em> <code>id</code>, <code>ipAddress</code></td>
</tr>
</tbody></table>

<!-------------------- CREATE A NIC -------------------->
<h4 id='cloudstack-create-a-nic'>Create a NIC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/nics"</span>

<span class="c"># Request example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d67e986d-fe04-4827-836e-1697ede8ed30"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96330eea-4424-46ca-825c-82fdd051d8c3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/nics</code></p>

<p>Create a NIC for an <a href="#cloudstack-instances">instance</a> in a specific network. You can only have one NIC per <a href="#cloudstack-networks">network</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-networks">network</a> where to create the NIC</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> where to attach the NIC</td>
</tr>
</tbody></table>

<!-------------------- DELETE A NIC -------------------->
<h4 id='cloudstack-delete-a-nic'>Delete a NIC</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/nics"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/nics/:id</code></p>

<p>Delete an existing NIC. The NIC you&#39;re trying to delete must not be the default one.</p>

<!-------------------- SET A NIC AS DEFAULT -------------------->
<h4 id='cloudstack-set-a-nic-as-default'>Set a NIC as default</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/nics/63ef1efe-225f-4e05-bc79-b3e457a041e2?operation=setDefault"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/nics/:id?operation=setDefault</code></p>

<p>Set an existing NIC as the default NIC of an <a href="#cloudstack-instances">instance</a>.</p>
<h3 id='cloudstack-remote-access-vpns'>Remote access VPNs</h3>
<p>Remote access VPNs allow users to connect to <a href="#cloudstack-vpcs">VPCs</a> through secure connections.</p>
<h4 id='cloudstack-list-remote-access-vpns'>List remote access VPNs</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/remoteaccessvpns"</span>

<span class="c"># Response example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.31"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8925406c-8051-467e-a0ca-c48caa5bf670"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"presharedKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kwth4JYUfXXmtMG4X7vAwRPH"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.223"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8925406c-8051-467e-a0ca-c48caa5bf670"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/remoteaccessvpns</code></p>

<p>List remote access VPNs.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN</td>
</tr>
<tr>
<td><code>presharedKey</code><br/><em>string</em></td>
<td>The VPN&#39;s preshared key</td>
</tr>
<tr>
<td><code>publicIpAddress</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-public-ips">public IP</a> (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code>publicIpAddressId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a></td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state.<br/><em>Possible values:</em> <code>Enabled</code>, <code>Disabled.</code></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the VPN information of a specific <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-remote-access-vpn'>Retrieve a remote access VPN</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/remoteaccessvpns/10001e7d-b4ef-489b-836e-0619a383bc8d"</span>

<span class="c"># Response example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69.196.164.31"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicIpAddressId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001e7d-b4ef-489b-836e-0619a383bc8d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Disabled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/remoteaccessvpns/:id</code></p>

<p>Retrieve a remote access VPN.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN</td>
</tr>
<tr>
<td><code>presharedKey</code><br/><em>string</em></td>
<td>The VPN&#39;s preshared key</td>
</tr>
<tr>
<td><code>publicIpAddress</code><br/><em>string</em></td>
<td>The <a href="#cloudstack-public-ips">public IP</a> (e.g. 208.80.154.224)</td>
</tr>
<tr>
<td><code>publicIpAddressId</code><br/><em>string</em></td>
<td>The id of the <a href="#cloudstack-public-ips">public IP</a></td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state.<br/><em>Possible values:</em> <code>Enabled</code>, <code>Disabled.</code></td>
</tr>
</tbody></table>
<h3 id='cloudstack-vpn-users'>VPN users</h3>
<p>VPN users are the accounts that are allowed to connect to <a href="#cloudstack-remote-access-vpns">remote access VPNs</a>.</p>
<h4 id='cloudstack-list-vpn-users'>List VPN users</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpnusers"</span>

<span class="c"># Response example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5de76bf5-9f61-487a-a989-042b52882da4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wilson"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpnusers</code></p>

<p>List VPN users.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN user</td>
</tr>
<tr>
<td><code>username</code><br/><em>string</em></td>
<td>The VPN user&#39;s username</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-vpn-user'>Retrieve a VPN user</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpnusers/5de76bf5-9f61-487a-a989-042b52882da4"</span>

<span class="c"># Response example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5de76bf5-9f61-487a-a989-042b52882da4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wilson"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpnusers/:id</code></p>

<p>Retrieve a VPN user</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the remote access VPN user</td>
</tr>
<tr>
<td><code>username</code><br/><em>string</em></td>
<td>The VPN user&#39;s username</td>
</tr>
</tbody></table>
<h3 id='cloudstack-site-to-site-vpns'>Site-to-site VPNs</h3>
<p>A site-to-site VPN allows multiple sites to establish a secure connection over the public network. In our case, we are talking about a secure connection between your VPC and another network (e.g. VPC, offices).</p>

<!-------------------- LIST SITE-TO-SITE VPNS -------------------->
<h4 id='cloudstack-list-site-to-site-vpns'>List site-to-site VPNs</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d49b2922-0581-4587-94df-6fe719327d0f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stargate"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Connected"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fe7d82a-f4c4-4552-ac3b-787fdafed4e7"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gateway"</span><span class="p">:</span><span class="s2">"19.19.19.19"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidr"</span><span class="p">:</span><span class="s2">"10.12.0.2/22"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ipSecPsk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WtOBS9GRux2XtJPtHY2TUvrv"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ikeEncryptionAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ikeHashAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ikeDhGroup"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ikeLifetime"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
        </span><span class="s2">"espEncryptionAlgorithm"</span><span class="p">:</span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"espHashAlgorithm"</span><span class="p">:</span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"espPerfectForwardSecrecy"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"espLifetime"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dpd"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"forceEncap"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns</code></p>

<p>Retrieve a list of all site-to-site VPNs in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the site-to-site VPN</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the site-to-site VPN</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the site-to-site VPN. Can be Connected, Pending, Disconnected or Error. If disconnected, you can try to use the <a href="#cloudstack-reset-the-connection-of-a-site-to-site-vpn">reset</a> operation</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The VPC for which the site-to-site VPN was created.</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network you want to connect to. NOTE: you cannot use a gateway that has already been used by a site-to-site VPN in your environment</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network you want to connect to.</td>
</tr>
<tr>
<td><code>ipSecPsk</code><br/><em>string</em></td>
<td>IPSec pre-shared key.</td>
</tr>
<tr>
<td><code>ikeEncryptionAlgorithm</code><br/><em>string</em></td>
<td>The Internet Key Exchange (IKE) policy for phase-1. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>ikeHashAlgorithm</code><br/><em>string</em></td>
<td>The IKE hash for phase-1. The supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>ikeDhGroup</code><br/><em>string</em></td>
<td>A public-key cryptography protocol which allows two parties to establish a shared secret over an insecure communications channel. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>ikeLifetime</code><br/><em>integer</em></td>
<td>The phase-1 lifetime of the security association in seconds.</td>
</tr>
<tr>
<td><code>espEncryptionAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) algorithm within phase-2. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>espHashAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) hash for phase-2. Supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>espPerfectForwardSecrecy</code><br/><em>string</em></td>
<td>Perfect Forward Secrecy (or PFS) is the property that ensures that a session key derived from a set of long-term public and private keys will not be compromised. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>espLifetime</code><br/><em>integer</em></td>
<td>The phase-2 lifetime of the security association in seconds</td>
</tr>
<tr>
<td><code>dpd</code><br/><em>boolean</em></td>
<td>A method to detect an unavailable Internet Key Exchange (IKE) peer.</td>
</tr>
<tr>
<td><code>forceEncap</code><br/><em>boolean</em></td>
<td>Force encapsulation for NAT Traversal</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>vpc_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the site-to-site VPNs of a <a href="#cloudstack-vpcs">VPC</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A SITE-TO-SITE VPN -------------------->
<h4 id='cloudstack-retrieve-a-site-to-site-vpn'>Retrieve a site-to-site VPN</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns/d49b2922-0581-4587-94df-6fe719327d0f"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d49b2922-0581-4587-94df-6fe719327d0f"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stargate"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Connected"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fe7d82a-f4c4-4552-ac3b-787fdafed4e7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gateway"</span><span class="p">:</span><span class="s2">"19.19.19.19"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidr"</span><span class="p">:</span><span class="s2">"10.12.0.2/22"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipSecPsk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WtOBS9GRux2XtJPtHY2TUvrv"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeEncryptionAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeHashAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeDhGroup"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeLifetime"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espEncryptionAlgorithm"</span><span class="p">:</span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espHashAlgorithm"</span><span class="p">:</span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espPerfectForwardSecrecy"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espLifetime"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dpd"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forceEncap"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns/:id</code></p>

<p>Retrieve information about a site-to-site VPN.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the site-to-site VPN</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the site-to-site VPN</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the site-to-site VPN. Can be Connected, Pending, Disconnected or Error. If disconnected, you can try to use the <a href="#cloudstack-reset-the-connection-of-a-site-to-site-vpn">reset</a> operation</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The VPC for which the site-to-site VPN was created.</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network you want to connect to. NOTE: you cannot use a gateway that has already been used by a site-to-site VPN in your environment</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network you want to connect to.</td>
</tr>
<tr>
<td><code>ipSecPsk</code><br/><em>string</em></td>
<td>IPSec pre-shared key.</td>
</tr>
<tr>
<td><code>ikeEncryptionAlgorithm</code><br/><em>string</em></td>
<td>The Internet Key Exchange (IKE) policy for phase-1. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>ikeHashAlgorithm</code><br/><em>string</em></td>
<td>The IKE hash for phase-1. The supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>ikeDhGroup</code><br/><em>string</em></td>
<td>A public-key cryptography protocol which allows two parties to establish a shared secret over an insecure communications channel. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>ikeLifetime</code><br/><em>integer</em></td>
<td>The phase-1 lifetime of the security association in seconds.</td>
</tr>
<tr>
<td><code>espEncryptionAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) algorithm within phase-2. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>espHashAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) hash for phase-2. Supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>espPerfectForwardSecrecy</code><br/><em>string</em></td>
<td>Perfect Forward Secrecy (or PFS) is the property that ensures that a session key derived from a set of long-term public and private keys will not be compromised. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>espLifetime</code><br/><em>integer</em></td>
<td>The phase-2 lifetime of the security association in seconds</td>
</tr>
<tr>
<td><code>dpd</code><br/><em>boolean</em></td>
<td>A method to detect an unavailable Internet Key Exchange (IKE) peer.</td>
</tr>
<tr>
<td><code>forceEncap</code><br/><em>boolean</em></td>
<td>Force encapsulation for NAT Traversal</td>
</tr>
</tbody></table>

<!-------------------- CREATE A SITE-TO-SITE VPN -------------------->
<h4 id='cloudstack-create-a-site-to-site-vpn'>Create a site-to-site VPN</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Here is the absolute minimum information required to create a new site-to-site VPN:</span>

curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stargate"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vpcId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3fe7d82a-f4c4-4552-ac3b-787fdafed4e7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gateway"</span><span class="p">:</span><span class="s2">"19.19.19.19"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidr"</span><span class="p">:</span><span class="s2">"10.12.0.2/22"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipSecPsk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WtOBS9GRux2XtJPtHY2TUvrv"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeEncryptionAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeHashAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeDhGroup"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeLifetime"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espEncryptionAlgorithm"</span><span class="p">:</span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espHashAlgorithm"</span><span class="p">:</span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espPerfectForwardSecrecy"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espLifetime"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dpd"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forceEncap"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns</code></p>

<p>Create a site-to-site VPN</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the site-to-site VPN. Must be unique in the environment.</td>
</tr>
<tr>
<td><code>vpcId</code><br/><em>UUID</em></td>
<td>The VPC for which the site-to-site VPN was created.</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network you want to connect to. NOTE: you cannot use a gateway that has already been used by a site-to-site VPN in your environment</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network you want to connect to.</td>
</tr>
<tr>
<td><code>ipSecPsk</code><br/><em>string</em></td>
<td>IPSec pre-shared key.</td>
</tr>
<tr>
<td><code>ikeEncryptionAlgorithm</code><br/><em>string</em></td>
<td>The Internet Key Exchange (IKE) policy for phase-1. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>ikeHashAlgorithm</code><br/><em>string</em></td>
<td>The IKE hash for phase-1. The supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>ikeDhGroup</code><br/><em>string</em></td>
<td>A public-key cryptography protocol which allows two parties to establish a shared secret over an insecure communications channel. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>ikeLifetime</code><br/><em>integer</em></td>
<td>The phase-1 lifetime of the security association in seconds.</td>
</tr>
<tr>
<td><code>espEncryptionAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) algorithm within phase-2. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>espHashAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) hash for phase-2. Supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>espPerfectForwardSecrecy</code><br/><em>string</em></td>
<td>Perfect Forward Secrecy (or PFS) is the property that ensures that a session key derived from a set of long-term public and private keys will not be compromised. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>espLifetime</code><br/><em>integer</em></td>
<td>The phase-2 lifetime of the security association in seconds</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
</tbody></table>

<p><code>dpd</code><br/><em>boolean</em>    | A method to detect an unavailable Internet Key Exchange (IKE) peer. Defaults to false
<code>forceEncap</code><br/><em>boolean</em> | Force encapsulation for NAT Traversal. Defaults to false</p>

<!-------------------- UPDATE A SITE-TO-SITE VPN -------------------->
<h4 id='cloudstack-update-a-site-to-site-vpn'>Update a site-to-site VPN</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Here is the absolute minimum information required to update a site-to-site VPN:</span>

curl -X PUT <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns/d49b2922-0581-4587-94df-6fe719327d0f"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stargate"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"gateway"</span><span class="p">:</span><span class="s2">"19.19.19.19"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cidr"</span><span class="p">:</span><span class="s2">"10.12.0.2/22"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ipSecPsk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WtOBS9GRux2XtJPtHY2TUvrv"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeEncryptionAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeHashAlgorithm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeDhGroup"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"ikeLifetime"</span><span class="p">:</span><span class="mi">86400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espEncryptionAlgorithm"</span><span class="p">:</span><span class="s2">"aes256"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espHashAlgorithm"</span><span class="p">:</span><span class="s2">"sha1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espPerfectForwardSecrecy"</span><span class="p">:</span><span class="s2">"modp1536"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"espLifetime"</span><span class="p">:</span><span class="mi">3600</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dpd"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"forceEncap"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns/:id</code></p>

<p>Update a site-to-site VPN</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the site-to-site VPN. Must be unique in the environment.</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The gateway of the network you want to connect to. NOTE: you cannot use a gateway that has already been used by a site-to-site VPN in your environment</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network you want to connect to.</td>
</tr>
<tr>
<td><code>ipSecPsk</code><br/><em>string</em></td>
<td>IPSec pre-shared key.</td>
</tr>
<tr>
<td><code>ikeEncryptionAlgorithm</code><br/><em>string</em></td>
<td>The Internet Key Exchange (IKE) policy for phase-1. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>ikeHashAlgorithm</code><br/><em>string</em></td>
<td>The IKE hash for phase-1. The supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>ikeDhGroup</code><br/><em>string</em></td>
<td>A public-key cryptography protocol which allows two parties to establish a shared secret over an insecure communications channel. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>ikeLifetime</code><br/><em>integer</em></td>
<td>The phase-1 lifetime of the security association in seconds.</td>
</tr>
<tr>
<td><code>espEncryptionAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) algorithm within phase-2. The supported encryption algorithms are AES128, AES192, AES256, and 3DES.</td>
</tr>
<tr>
<td><code>espHashAlgorithm</code><br/><em>string</em></td>
<td>Encapsulating Security Payload (ESP) hash for phase-2. Supported hash algorithms are SHA1 and MD5.</td>
</tr>
<tr>
<td><code>espPerfectForwardSecrecy</code><br/><em>string</em></td>
<td>Perfect Forward Secrecy (or PFS) is the property that ensures that a session key derived from a set of long-term public and private keys will not be compromised. The supported options are Group-5 (1536-bit) and Group-2 (1024-bit).</td>
</tr>
<tr>
<td><code>espLifetime</code><br/><em>integer</em></td>
<td>The phase-2 lifetime of the security association in seconds</td>
</tr>
<tr>
<td><code>dpd</code><br/><em>boolean</em></td>
<td>A method to detect an unavailable Internet Key Exchange (IKE) peer. Defaults to false</td>
</tr>
<tr>
<td><code>forceEncap</code><br/><em>boolean</em></td>
<td>Force encapsulation for NAT Traversal. Defaults to false</td>
</tr>
</tbody></table>

<!-------------------- DELETE A SITE-TO-SITE VPN -------------------->
<h4 id='cloudstack-delete-a-site-to-site-vpn'>Delete a site-to-site VPN</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns/d49b2922-0581-4587-94df-6fe719327d0f"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns/:id</code></p>

<p>Delete an existing site-to-site VPN.</p>

<!-------------------- RESET A SITE-TO-SITE VPN -------------------->
<h4 id='cloudstack-reset-the-connection-of-a-site-to-site-vpn'>Reset the connection of a site-to-site VPN</h4><pre class="highlight shell tab-shell"><code>
curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/sitetositevpns/ca86b14f-20db-463d-b58a-9d3fa5959af2?operation=reset"</span>

</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sitetositevpns/:id?operation=reset</code></p>

<p>Reset a site-to-site VPN.</p>
<h2 id='cloudstack-storage'>Storage</h2><h3 id='cloudstack-volumes'>Volumes</h3>
<p>A volume is a virtual disk that provide storage for your instances. An OS volumes is created for every instance and it holds the OS of the instance. The size of this volume is usually pretty. A data volume is a volume that can be created and attached to an instance. It can also be detached and reattached to another instance.</p>

<!-------------------- LIST VOLUMES -------------------->
<h4 id='cloudstack-list-volumes'>List volumes</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/volumes"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DOUGLAS-ADM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"os"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T14:25:41-0400"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes</code></p>

<p>Retrieve a list of all volumes in an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the volume</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the volume</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of the volume. <code>os</code> if it is a root volume of an <a href="#cloudstack-instances">instance</a>, <code>data</code> otherwise</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The creation date of the volume</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code>instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the volume</td>
</tr>
<tr>
<td><code>sizeInGb</code><br/><em>integer</em></td>
<td>The size in gigabytes of the volume</td>
</tr>
</tbody></table>

<!-- iops<br/>*integer* | The number of IOPS of the volume -->

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>Filter the list to only retrieve the volumes of a specific type (<code>os</code> or <code>data</code>)</td>
</tr>
<tr>
<td><code>instance_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the volumes of a specific <a href="#cloudstack-instances">instance</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A VOLUME -------------------->
<h4 id='cloudstack-retrieve-a-volume'>Retrieve a volume</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/volumes/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deep_thought_42"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-10-19T14:25:41-0400"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b6145e8b-abd3-456c-832c-f3db86a6acfe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"instanceName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04afdbd1-e32d-4999-86d0-96703736dded"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"zoneName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QC-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21ba9c9b-a31e-496e-983f-e3041525bf95"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"diskOfferingName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50GB - 50 IOPS Min."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sizeInGb"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id</code></p>

<p>Retrieve information about an volume.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the volume</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the volume</td>
</tr>
<tr>
<td><code>type</code><br/><em>string</em></td>
<td>The type of the volume. <code>os</code> if it is a root volume of an <a href="#cloudstack-instances">instance</a>, <code>data</code> otherwise</td>
</tr>
<tr>
<td><code>creationDate</code><br/><em>string</em></td>
<td>The creation date of the volume</td>
</tr>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code>instanceName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-instances">instance</a> to which the volume is attached</td>
</tr>
<tr>
<td><code>zoneId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code>zoneName</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-zones">zone</a> where the volume was created</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the volume</td>
</tr>
<tr>
<td><code>sizeInGb</code><br/><em>integer</em></td>
<td>The size in gigabytes of the volume</td>
</tr>
</tbody></table>

<!-- iops<br/>*integer* | The number of IOPS of the volume -->

<!-------------------- CREATE A VOLUME -------------------->
<h4 id='cloudstack-create-a-volume'>Create a volume</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/testing/volumes"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_volume"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"diskOfferingId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"166f85eb-b4a2-4000-8e0c-24104d551f60"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes</code></p>

<p>Create a volume in an environment. It will attached to the specified <a href="#cloudstack-instances">instance</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>name<br/><em>string</em></td>
<td>The name of the new volume</td>
</tr>
<tr>
<td>diskOfferingId<br/><em>UUID</em></td>
<td>The <a href="#disk-offerings">disk offering</a> to use for the volume</td>
</tr>
<tr>
<td>instanceId<br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> to which the created volume will be attached</td>
</tr>
</tbody></table>

<!-------------------- DELETE A VOLUME -------------------->
<h4 id='cloudstack-delete-a-volume'>Delete a volume</h4><pre class="highlight shell tab-shell"><code>
<span class="c"># Example:</span>

curl -X DELETE <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcs/:id</code></p>

<p>Destroy an existing data volume. A volume can only be deleted if it&#39;s not attached to an <a href="#cloudstack-instances">instance</a>.</p>

<!-------------------- ATTACH A VOLUME -------------------->
<h4 id='cloudstack-attach-a-volume-to-an-instance'>Attach a volume to an instance</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/testing/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685?operation=attachToInstance"</span>

<span class="c"># Request should look like this</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c043e651-8b3f-4941-b47f-5ecb77f3423b"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id?operation=attachToInstance</code></p>

<p>Attach an existing data volume to an <a href="#cloudstack-instances">instance</a>.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>instanceId<br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-instances">instance</a> to which the created volume should be attached</td>
</tr>
</tbody></table>

<!-------------------- DETACH A VOLUME -------------------->
<h4 id='cloudstack-detach-a-volume-from-an-instance'>Detach a volume from an instance</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
   -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   -d <span class="s2">"request_body"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/testing/volumes/e922e5fc-8fee-4688-ad93-c9ef5d7eb685?operation=detachFromInstance"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id?operation=detachFromInstance</code></p>

<p>Detach a data volume from an <a href="#cloudstack-instances">instance</a>.</p>
<h3 id='cloudstack-snapshots'>Snapshots</h3>
<p>A volume snapshot is a full image of a volume. They are often considered as backups, but in reality this is not 100% true since you have only the data written on disk. Volume Snapshots are typically used to derive new templates out of a running instance.</p>

<!-------------------- LIST SNAPSHOTS -------------------->
<h4 id='cloudstack-list-snapshots'>List snapshots</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/snapshots"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33a27b8d-5a27-42a5-aec4-37606e372bda"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM_foo_20161116211009"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BackedUp"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"intervalType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANUAL"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c779ca42-6966-41af-a7dc-23db4e41d4ee"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"volumeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots</code></p>

<p>Retrieve a list of all snapshots in an <a href="#administration-environments">environment</a></p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the snapshot</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the snapshot</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the snapshot</td>
</tr>
<tr>
<td><code>intervalType</code><br/><em>string</em></td>
<td>The interval type. <code>MANUAL</code> means that you created the snapshot manually (i.e. it&#39;s not a recurring snapshot)</td>
</tr>
<tr>
<td><code>volumeId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code>volume</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code>volumeType</code><br/><em>string</em></td>
<td>The type of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Query Parameters</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>volume_id</code><br/><em>UUID</em></td>
<td>Filter the list to only retrieve the snapshots of a specific <a href="#cloudstack-volumes">volume</a></td>
</tr>
</tbody></table>

<!-------------------- RETRIEVE A SNAPSHOT -------------------->
<h4 id='cloudstack-retrieve-a-snapshot'>Retrieve a snapshot</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/snapshots/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>

<span class="c"># Example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33a27b8d-5a27-42a5-aec4-37606e372bda"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-douglas-ADM_foo_20161116211009"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BackedUp"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"intervalType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MANUAL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c779ca42-6966-41af-a7dc-23db4e41d4ee"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volumeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ROOT-35545"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots/:id</code></p>

<p>Retrieve information about a snapshot.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the snapshot</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the snapshot</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the snapshot</td>
</tr>
<tr>
<td><code>intervalType</code><br/><em>string</em></td>
<td>The interval type. <code>MANUAL</code> means that you created the snapshot manually (i.e. it&#39;s not a recurring snapshot)</td>
</tr>
<tr>
<td><code>volumeId</code><br/><em>UUID</em></td>
<td>The id of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code>volume</code><br/><em>string</em></td>
<td>The name of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
<tr>
<td><code>volumeType</code><br/><em>string</em></td>
<td>The type of the <a href="#cloudstack-volumes">volume</a> that was snapshotted</td>
</tr>
</tbody></table>
<h2 id='cloudstack-offerings'>Offerings</h2>
<p>Offerings are what determine the characteristics of provisioned resources. There are 4 types of offerings : <a href="#cloudstack-compute-offerings">compute</a>, <a href="#cloudstack-disk-offerings">disk</a>, <a href="#cloudstack-vpc-offerings">VPC</a> and <a href="#cloudstack-network-offerings">network</a> offerings.</p>
<h3 id='cloudstack-vpc-offerings'>VPC offerings</h3>
<p>VPC offerings determine which services are available to provisioned <a href="#cloudstack-vpcs">VPCs</a>.</p>
<h4 id='cloudstack-list-vpc-offerings'>List VPC offerings</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default VPC offering"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcofferings</code></p>

<p>Retrieve a list of available VPC offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the VPC offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the VPC offering</td>
</tr>
<tr>
<td><code>services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-vpc-offering'>Retrieve a VPC offering</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/vpcofferings/41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41ac6ba0-6172-4bc4-bff6-b0831b91677c"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default VPC offering"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StaticNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UserData"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/vpcofferings/:id</code></p>

<p>Retrieve a VPC offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the VPC offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the VPC offering</td>
</tr>
<tr>
<td><code>services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>
<h3 id='cloudstack-network-offerings'>Network offerings</h3>
<p>Network offerings determine which services are available to each provisioned <a href="#cloudstack-networks">network</a>.</p>
<h4 id='cloudstack-list-network-offerings'>List network offerings</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89724d35-b69c-418c-be81-7d83fcfc9da9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vpcOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"087502ea-cb42-421b-9bd9-9cf9ae5d1b89"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Standard Tier"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vpcOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f1b9d72-b842-11e7-abc4-cec278b6b50a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Isolated network"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"vpcOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"UserData"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"StaticNat"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkofferings</code></p>

<p>Retrieve a list of available network offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network offering</td>
</tr>
<tr>
<td><code>vpcOnly</code><br/><em>boolean</em></td>
<td>Whether or not the offering is for VPC subnets</td>
</tr>
<tr>
<td><code>services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-network-offering'>Retrieve a network offering</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/networkofferings/89724d35-b69c-418c-be81-7d83fcfc9da9"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89724d35-b69c-418c-be81-7d83fcfc9da9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Load Balanced Tier"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vpcOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"PortForwarding"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Lb"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"NetworkACL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"SourceNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dns"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"StaticNat"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Vpn"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"Dhcp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"UserData"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENABLED"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networkofferings/:id</code></p>

<p>Retrieve a network offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the network offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the network offering</td>
</tr>
<tr>
<td><code>vpcOnly</code><br/><em>boolean</em></td>
<td>Whether or not the offering is for VPC subnets</td>
</tr>
<tr>
<td><code>services</code><br/><em>Array[string]</em></td>
<td>The services provided by the offering</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The state of the offering</td>
</tr>
</tbody></table>
<h3 id='cloudstack-compute-offerings'>Compute offerings</h3>
<p>Compute offerings determine the number of vCPUs and the size of the memory allocated to new <a href="#cloudstack-instances">instances</a>.</p>
<h4 id='cloudstack-list-compute-offerings'>List compute offerings</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/computeofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Custom CPU and memory"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"custom"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"availableCpuCountValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">],</span><span class="w">
            </span><span class="s2">"availableMemoryInMBValues"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w"> </span><span class="mi">4096</span><span class="p">,</span><span class="w"> </span><span class="mi">8192</span><span class="p">],</span><span class="w">
            </span><span class="s2">"maxMemoryInMBToCpuRatio"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1fb0caba-8ffb-4e77-8dcb-401170e15e0a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.1GB"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w">
            </span><span class="s2">"custom"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/computeofferings</code></p>

<p>Retrieve a list of available compute offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the compute offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the compute offering</td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The amount of provisioned memory in MB</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs available to the created <a href="#cloudstack-instances">instance</a></td>
</tr>
<tr>
<td><code>custom</code><br/><em>boolean</em></td>
<td>If true, the <code>cpuCount</code> and <code>memoryInMB</code> fields will be missing from the response and will be required on <a href="#cloudstack-create-an-instance">instance create</a></td>
</tr>
<tr>
<td><code>availableCpuCountValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid cpu counts when used in the <a href="#cloudstack-create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code>availableMemoryInMBValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid amounts of memory (in MB) that can be used in the <a href="#cloudstack-create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code>maxMemoryInMBToCpuRatio</code><br/><em>integer</em></td>
<td>The maximum ratio of memory (in MB) to number of CPU of an <a href="#cloudstack-instances">instance</a> created with this offering. Only present for custom offerings.</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-compute-offering'>Retrieve a compute offering</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/computeofferings/40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40a2e5f7-22e6-4d1e-b03b-4a4b7c9cbc6f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">512</span><span class="p">,</span><span class="w">
        </span><span class="s2">"custom"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/computeofferings/:id</code></p>

<p>Retrieve a compute offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the compute offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the compute offering</td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The amount of provisioned memory in MB</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs available to the created <a href="#cloudstack-instances">instance</a></td>
</tr>
<tr>
<td><code>custom</code><br/><em>boolean</em></td>
<td>If true, the <code>cpuCount</code> and <code>memoryInMB</code> fields will be missing from the response and will be required on <a href="#cloudstack-create-an-instance">instance create</a></td>
</tr>
<tr>
<td><code>availableCpuCountValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid cpu counts when used in the <a href="#cloudstack-create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code>availableMemoryInMBValues</code><br/><em>Array[integer]</em></td>
<td>The list of valid amounts of memory (in MB) that can be used in the <a href="#cloudstack-create-an-instance">create instance operation</a>. Only present for custom offerings</td>
</tr>
<tr>
<td><code>maxMemoryInMBToCpuRatio</code><br/><em>integer</em></td>
<td>The maximum ratio of memory (in MB) to number of CPU of an <a href="#cloudstack-instances">instance</a> created with this offering. Only present for custom offerings.</td>
</tr>
</tbody></table>
<h3 id='cloudstack-disk-offerings'>Disk offerings</h3>
<p>Disk offerings determine the size and the performance (IOPS) of <a href="#cloudstack-volumes">data volumes</a>.</p>
<h4 id='cloudstack-list-disk-offerings'>List disk offerings</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/diskofferings"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20GB - 20 IOPS Min."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0432acc2-9226-4945-bf2e-9c8157be31d1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50GB - 50 IOPS Min."</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/diskofferings</code></p>

<p>Retrieve a list of available disk offerings.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the disk offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the disk offering</td>
</tr>
<tr>
<td><code>gbSize</code><br/><em>int</em></td>
<td>The size of the <a href="#cloudstack-olumes">data volume</a> in GB</td>
</tr>
<tr>
<td><code>customSize</code><br/><em>boolean</em></td>
<td>If the offering supports custom size</td>
</tr>
<tr>
<td><code>customIops</code><br/><em>boolean</em></td>
<td>If the offering supports custom IOPS</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-disk-offering'>Retrieve a disk offering</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/diskofferings/18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"customIops"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customSize"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"gbSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18bbab50-8d85-4b34-8361-0dc223ffd7e5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20GB - 20 IOPS Min."</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/diskofferings/:id</code></p>

<p>Retrieve a disk offering.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the disk offering</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the disk offering</td>
</tr>
<tr>
<td><code>gbSize</code><br/><em>int</em></td>
<td>The size of the <a href="#cloudstack-volumes">data volume</a> in GB</td>
</tr>
<tr>
<td><code>customSize</code><br/><em>boolean</em></td>
<td>If the offering supports custom size</td>
</tr>
<tr>
<td><code>customIops</code><br/><em>boolean</em></td>
<td>If the offering supports custom IOPS</td>
</tr>
</tbody></table>
<h2 id='cloudstack-zones'>Zones</h2>
<p>Each zone consists of physically isolated hosts, storage, and networking infrastructure. Like deploying workloads across regions, deploying workloads over multiple zones can help ensure high availability of applications.</p>
<h4 id='cloudstack-list-zones'>List zones</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/zones"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/zones</code></p>

<p>Retrieve a list of available zones.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the zone</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the zone</td>
</tr>
</tbody></table>
<h4 id='cloudstack-retrieve-a-zone'>Retrieve a zone</h4><pre class="highlight shell tab-shell"><code>curl -X GET <span class="se">\</span>
   -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
   <span class="s2">"https://cloudmc_endpoint/v1/services/compute-on/test_area/zones/ea901007-056b-4c50-bb3a-2dd635fce2ab"</span>

<span class="c"># The above command returns JSON structured like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ea901007-056b-4c50-bb3a-2dd635fce2ab"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON-1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/zones/:id</code></p>

<p>Retrieve a zone</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the zone</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the zone</td>
</tr>
</tbody></table>
<h1 id='openstack-plugin'>OpenStack plugin</h1>
<p>The CloudMC OpenStack plugin incorporates various OpenStack services such as Nova and Neutron into CloudMC&#39;s API. It also enforces CloudMC&#39;s environment-centric multi-tenancy model and RBAC over top of OpenStack.</p>
<h3 id='openstack-instances'>Instances</h3>
<p>Deploy and manage your instances. Instances are virtual machines or physical machines managed by OpenStack.</p>
<h4 id='openstack-list-instances'>List instances</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30fca349-68b0-48c2-9ada-1f60f57fa44e"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nginx"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
         </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w">
         </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"flavorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d547941-1738-4d7b-a70b-b52a44ff18e5"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"flavorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2vCPU.2GB"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68f9027d-cf64-4648-a0fa-4667d5618b6b"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"imageName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"privateIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.0.11"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"securityGroupNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="s2">"webServerSecGroup"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"sshSecGroup"</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances</code></p>

<p>Retrieve a list of all instances in an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the instance</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code>flavorId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-flavors">flavor</a> id of the instance</td>
</tr>
<tr>
<td><code>flavorName</code><br/><em>string</em></td>
<td>The <a href="#openstack-flavors">flavor</a> name of the instance</td>
</tr>
<tr>
<td><code>imageId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-images">image</a> id of the instance</td>
</tr>
<tr>
<td><code>imageName</code><br/><em>string</em></td>
<td>The <a href="#openstack-images">image</a>  name of the instance</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&#39;s <a href="#openstack-flavors">flavor</a></td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&#39;s <a href="#openstack-flavors">flavor</a></td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the network where instance is deployed</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the network where instance is deployed</td>
</tr>
<tr>
<td><code>privateIpAddress</code><br/><em>string</em></td>
<td>The instance&#39;s private IP address</td>
</tr>
<tr>
<td><code>securityGroupNames</code><br/><em>Array[string]</em></td>
<td>The list of <a href="#openstack-security-groups">security groups</a> associated to the instance</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-an-instance'>Retrieve an instance</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances/30fca349-68b0-48c2-9ada-1f60f57fa44e"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30fca349-68b0-48c2-9ada-1f60f57fa44e"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nginx"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cpuCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"memoryInMB"</span><span class="p">:</span><span class="w"> </span><span class="mi">2048</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flavorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d547941-1738-4d7b-a70b-b52a44ff18e5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flavorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2vCPU.2GB"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68f9027d-cf64-4648-a0fa-4667d5618b6b"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"imageName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"privateIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.0.11"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"securityGroupNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"webServerSecGroup"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sshSecGroup"</span><span class="w">
      </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id</code></p>

<p>Retrieve information about an instance.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The id of the instance</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The name of the instance</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The current state of the instance</td>
</tr>
<tr>
<td><code>flavorId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-flavors">flavor</a> id of the instance</td>
</tr>
<tr>
<td><code>flavorName</code><br/><em>string</em></td>
<td>The <a href="#openstack-flavors">flavor</a> name of the instance</td>
</tr>
<tr>
<td><code>imageId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-images">image</a> id of the instance</td>
</tr>
<tr>
<td><code>imageName</code><br/><em>string</em></td>
<td>The <a href="#openstack-images">image</a>  name of the instance</td>
</tr>
<tr>
<td><code>cpuCount</code><br/><em>int</em></td>
<td>The number of vCPUs associated with the instance&#39;s <a href="#openstack-flavors">flavor</a></td>
</tr>
<tr>
<td><code>memoryInMB</code><br/><em>int</em></td>
<td>The number of megabytes associated with the instance&#39;s <a href="#openstack-flavors">flavor</a></td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The id of the network where instance is deployed</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the network where instance is deployed</td>
</tr>
<tr>
<td><code>privateIpAddress</code><br/><em>string</em></td>
<td>The instance&#39;s private IP address</td>
</tr>
<tr>
<td><code>securityGroupNames</code><br/><em>Array[string]</em></td>
<td>The list of <a href="#openstack-security-groups">security groups</a> associated to the instance</td>
</tr>
</tbody></table>
<h4 id='openstack-create-an-instance'>Create an instance</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances"</span>
<span class="c"># Request body example:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"imageId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d547941-1738-4d7b-a70b-b52a44ff18e5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"flavorId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68f9027d-cf64-4648-a0fa-4667d5618b6b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2fc5a74b-26c9-4541-af3f-84ee4c75eb0c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"securityGroupNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"secGroupA"</span><span class="p">,</span><span class="w"> </span><span class="s2">"secGroupB"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances</code></p>

<p>Create an instance in an environment.</p>

<table><thead>
<tr>
<th>Required</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>imageId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-images">image</a> to use for this instance</td>
</tr>
<tr>
<td><code>flavorId</code><br/><em>UUID</em></td>
<td>The <a href="#openstack-flavors">flavor</a> will determine the number of CPU and RAM of your instance</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The network in which the instance will be created. If you don&#39;t have a network, it can be created through the create network API.</td>
</tr>
<tr>
<td><code>securityGroupNames</code><br/><em>Array[string]</em></td>
<td>The list of <a href="#openstack-security-groups">security groups</a> to be associated to the instance</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>Name of the instance</td>
</tr>
<tr>
<td><code>userData</code><br/><em>string</em></td>
<td>Data that the user can specify when they launch an instance. User data can be used in the cloud-init system as a script that is run during the initial launch. The user data field can be used to configure SSH keys, user settings, or run a script.</td>
</tr>
</tbody></table>
<h4 id='openstack-associate-a-floating-ip'>Associate a floating IP</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances/30fca349-68b0-48c2-9ada-1f60f57fa44e?operation=associate"</span>
<span class="c"># Request body should look like</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"floatingIpId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"287a3963-983b-4602-9dea-4dff89e9dc10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=associate</code></p>

<p>Associate a floating IP to an instance in your environment.</p>

<table><thead>
<tr>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>floatingIpId</code><br/><em>UUID</em></td>
<td>The ID of a previously-acquired floating IP</td>
</tr>
</tbody></table>
<h4 id='openstack-change-security-groups'>Change security groups</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances/30fca349-68b0-48c2-9ada-1f60f57fa44e?operation=changeSecurityGroups"</span>
<span class="c"># Request body should look like</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"securityGroupNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"securityGroupNameA"</span><span class="p">,</span><span class="w"> </span><span class="s2">"securityGroupNameB"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id?operation=changeSecurityGroups</code></p>

<p>Change the security groups of an instance to the ones specified in the request.</p>

<table><thead>
<tr>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>securityGroupNames</code><br/><em>Array[string]</em></td>
<td>A list of security group names that should be associated to the instance</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-an-instance'>Delete an instance</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/instances/30fca349-68b0-48c2-9ada-1f60f57fa44e"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/instances/:id</code></p>

<p>Delete an instance.</p>
<h3 id='openstack-networks'>Networks</h3>
<p>Networks are provisioned to be able to control data flow to instances. To communicate with the external network, the network must be connected to a <a href="#openstack-routers">router</a></p>
<h4 id='openstack-list-networks'>List networks</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/networks"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9e8861d-64a1-4126-b385-6e4db9a5814f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.64.0.0/22"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"dhcpEnabled"</span><span class="p">:</span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks</code></p>

<p>Retrieve a list of all networks in an environment.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The network&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The network&#39;s name</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network</td>
</tr>
<tr>
<td><code>dhcpEnabled</code><br/><em>boolean</em></td>
<td>If DHCP is handled by the network</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The IP of the gateway</td>
</tr>
<tr>
<td><code>ipVersion</code><br/><em>string</em></td>
<td>V4 or V6</td>
</tr>
<tr>
<td><code>subnetId</code><br/><em>string</em></td>
<td>The id of the OpenStack subnet it maps to</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-network'>Retrieve a network</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/networks/a9e8861d-64a1-4126-b385-6e4db9a5814f"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9e8861d-64a1-4126-b385-6e4db9a5814f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.64.0.0/22"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"dhcpEnabled"</span><span class="p">:</span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/:id</code></p>

<p>Retrieve information about a network.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The network&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The network&#39;s name</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>CIDR of the network</td>
</tr>
<tr>
<td><code>dhcpEnabled</code><br/><em>boolean</em></td>
<td>If DHCP is handled by the network</td>
</tr>
<tr>
<td><code>gateway</code><br/><em>string</em></td>
<td>The IP of the gateway</td>
</tr>
<tr>
<td><code>ipVersion</code><br/><em>string</em></td>
<td>V4 or V6</td>
</tr>
<tr>
<td><code>subnetId</code><br/><em>string</em></td>
<td>The id of the OpenStack subnet it maps to</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-network'>Create a network</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/networks"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cidr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.50.0.0/22"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dhcpEnabled"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks</code></p>

<p>Create a network in an environment.</p>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>Name of the network</td>
</tr>
<tr>
<td><code>cidr</code><br/><em>string</em></td>
<td>The CIDR of the network. The mask should be between 1 and 30 inclusively. Example: 10.50.0.0/22</td>
</tr>
<tr>
<td><code>dhcpEnabled</code><br/><em>boolean</em></td>
<td>If DHCP should be enabled for the network or if it will be handled by the user</td>
</tr>
<tr>
<td><code>routerId</code><br/><em>string</em></td>
<td>The id of an existing router. If provided, it will create an interface on that router for the created network. It may not be provided with <code>externalNetworkId</code></td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>string</em></td>
<td>The id of the external network. If provided, it will create a router connected to that external network and add an interface on that router for the created network. It may not be provided with <code>routerId</code></td>
</tr>
</tbody></table>

<p>N.B.: The <code>name</code> and <code>cidr</code> will be autogenerated if left blank. <code>dhcpEnabled</code> will default to <code>false</code></p>
<h4 id='openstack-delete-a-network'>Delete a network</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/networks/a9e8861d-64a1-4126-b385-6e4db9a5814f"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/networks/:id</code></p>

<p>Delete a network.</p>
<h3 id='openstack-flavors'>Flavors</h3>
<p>Flavors are available hardware configurations for instances. They store the information for compute and memory capacity.</p>
<h4 id='openstack-list-flavors'>List flavors</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/flavors"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d547941-1738-4d7b-a70b-b52a44ff18e5"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.256MB"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"921e8296-c801-498c-90a9-4398cd44681f"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.512MB"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/flavors</code></p>

<p>Retrieve a list of available flavors.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The flavor&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The flavor name</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-flavor'>Retrieve a flavor</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/flavors/1d547941-1738-4d7b-a70b-b52a44ff18e5"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d547941-1738-4d7b-a70b-b52a44ff18e5"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1vCPU.256MB"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/flavors/:id</code></p>

<p>Retrieve information about a flavor</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The flavor&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The flavor name</td>
</tr>
</tbody></table>
<h3 id='openstack-images'>Images</h3>
<p>Images are virtual machine images that have a virtual disk that contains a bootable operating system.</p>
<h4 id='openstack-list-images'>List images</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/images"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22f53310-798d-4029-bb00-747a52d2a376"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"68f9027d-cf64-4648-a0fa-4667d5618b6b"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"centos7"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/images</code></p>

<p>Retrieve a list of available images.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The image&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The image name</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-an-image'>Retrieve an image</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/images/22f53310-798d-4029-bb00-747a52d2a376"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22f53310-798d-4029-bb00-747a52d2a376"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ubuntu"</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/images/:id</code></p>

<p>Retrieve information about an image</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The image&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The image name</td>
</tr>
</tbody></table>
<h3 id='openstack-floating-ips'>Floating IPs</h3>
<p>Floating IPs are public IP addresses that a user can acquire and use in an environment</p>
<h4 id='openstack-list-floating-ips'>List floating IPs</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/floatingips"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"287a3963-983b-4602-9dea-4dff89e9dc10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"floatingIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.182.56.27"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fixedIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0.0.8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"externalNetworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"963b6966-d9d7-48a8-8141-f414a809dbf4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/floatingips</code></p>

<p>Retrieve a list of all floating IPs in an environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The floating IP&#39;s id</td>
</tr>
<tr>
<td><code>floatingIpAddress</code><br/><em>string</em></td>
<td>The floating IP&#39;s public IP address</td>
</tr>
<tr>
<td><code>fixedIpAddress</code><br/><em>string</em></td>
<td>The fixed IP to which the floating IP is associated. This may be empty if the floating IP is not associated with an instance</td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>UUID</em></td>
<td>The id of the external network to which the floating IP belongs</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-floating-ip'>Retrieve a floating IP</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/floatingips/287a3963-983b-4602-9dea-4dff89e9dc10"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"287a3963-983b-4602-9dea-4dff89e9dc10"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"floatingIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.182.56.27"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"fixedIpAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.0.0.8"</span><span class="p">,</span><span class="w">
         </span><span class="s2">"externalNetworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"963b6966-d9d7-48a8-8141-f414a809dbf4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/floatingips/:id</code></p>

<p>Retrieve information about a floating IP.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The floating IP&#39;s id</td>
</tr>
<tr>
<td><code>floatingIpAddress</code><br/><em>string</em></td>
<td>The floating IP&#39;s public IP address</td>
</tr>
<tr>
<td><code>fixedIpAddress</code><br/><em>string</em></td>
<td>The fixed IP to which the floating IP is associated. This may be empty if the floating IP is not associated with an instance</td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>UUID</em></td>
<td>The id of the external network to which the floating IP belongs</td>
</tr>
</tbody></table>
<h4 id='openstack-acquire-a-floating-ip'>Acquire a floating IP</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\ </span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/floatingips"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/floatingips</code></p>

<p>Acquire a floating IP in an environment.</p>
<h4 id='openstack-release-a-floating-ip'>Release a floating IP</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/floatingips/287a3963-983b-4602-9dea-4dff89e9dc10"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/floatingips/:id</code></p>

<p>Release a floating IP.</p>
<h3 id='openstack-security-groups'>Security groups</h3>
<p>Security groups manage network access to instances.</p>
<h4 id='openstack-list-security-groups'>List security groups</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygroups"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default security group"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygroups</code></p>

<p>Retrieve a list of all security groups in an environment.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The security group&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The security group&#39;s name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>A description of the group&#39;s purpose</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-security-group'>Retrieve a security group</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygroups/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1bd672f4-b274-4371-a792-b0a6c6778cc7"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default security group"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygroups/:id</code></p>

<p>Retrieve information about a security group.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The security group&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The security group&#39;s name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>A description of the group&#39;s purpose</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-security-group'>Create a security group</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygroups"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"security-group-1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My very first security group"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygroups</code></p>

<p>Create a security group in an environment.</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The security group&#39;s name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>A description of the group&#39;s purpose</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-security-group'>Delete a security group</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygroups/1bd672f4-b274-4371-a792-b0a6c6778cc7"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygroups/:id</code></p>

<p>Delete a security group.</p>
<h3 id='openstack-security-group-rules'>Security group rules</h3>
<p>Security group rules define the type of traffic that can access the instances associated with a security group.</p>
<h4 id='openstack-list-security-group-rules-within-a-security-group'>List security group rules within a security group</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygrouprules?securitygroupid=f54f050b-01b2-4a73-b6e1-4e13a5566323"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"655d3bcb-3f8a-4738-b50a-53bca43469b5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"remoteAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"startPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"endPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">65535</span><span class="p">,</span><span class="w">
          </span><span class="s2">"etherType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IPv4"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UDP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ingress"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"securityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f54f050b-01b2-4a73-b6e1-4e13a5566323"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d92b22b-b7d2-4584-865d-a9929cb1a24c"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"remoteAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"startPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
          </span><span class="s2">"endPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
          </span><span class="s2">"etherType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IPv4"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TCP"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"ingress"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="s2">"securityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f54f050b-01b2-4a73-b6e1-4e13a5566323"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygrouprules?securitygroupid=<a href="#openstack-security-groups">:securityGroupId</a></code></p>

<p>Retrieve a list of all security group rules in a security group.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The security group rule&#39;s id</td>
</tr>
<tr>
<td><code>remoteAddress</code><br/><em>string</em></td>
<td>Remote IPs or CIDRs associated with this rule</td>
</tr>
<tr>
<td><code>startPort</code><br/><em>int</em></td>
<td>Minimum port that is matched by this rule</td>
</tr>
<tr>
<td><code>endPort</code><br/><em>int</em></td>
<td>Maximum port that is matched by this rule</td>
</tr>
<tr>
<td><code>etherType</code><br/><em>string</em></td>
<td>IP type, either IPv4 or IPv6</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The IP protocol, either ICMP, TCP or UDP</td>
</tr>
<tr>
<td><code>ingress</code><br/><em>boolean</em></td>
<td>Direction in which the rule is applied, false implies egress</td>
</tr>
<tr>
<td><code>securityGroupId</code><br/><em>UUID</em></td>
<td>The ID of the parent security group</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-security-group-rule'>Retrieve a security group rule</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygrouprules/655d3bcb-3f8a-4738-b50a-53bca43469b5"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
     </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"655d3bcb-3f8a-4738-b50a-53bca43469b5"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"remoteAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"startPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
           </span><span class="s2">"endPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">65535</span><span class="p">,</span><span class="w">
           </span><span class="s2">"etherType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IPv4"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ICMP"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"ingress"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
           </span><span class="s2">"securityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f54f050b-01b2-4a73-b6e1-4e13a5566323"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygrouprules/:id</code></p>

<p>Retrieve information about a security group rule.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The security group rule&#39;s id</td>
</tr>
<tr>
<td><code>remoteAddress</code><br/><em>string</em></td>
<td>Remote IPs or CIDRs associated with this rule</td>
</tr>
<tr>
<td><code>startPort</code><br/><em>int</em></td>
<td>Minimum port that is matched by this rule</td>
</tr>
<tr>
<td><code>endPort</code><br/><em>int</em></td>
<td>Maximum port that is matched by this rule</td>
</tr>
<tr>
<td><code>etherType</code><br/><em>string</em></td>
<td>IP type, either IPv4 or IPv6</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The IP protocol, either ICMP, TCP or UDP</td>
</tr>
<tr>
<td><code>ingress</code><br/><em>boolean</em></td>
<td>Direction in which the rule is applied, false implies egress</td>
</tr>
<tr>
<td><code>securityGroupId</code><br/><em>UUID</em></td>
<td>The ID of the parent security group</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-security-group-rule'>Create a security group rule</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygrouprules"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"ingress"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UDP"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"endPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remoteAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0.0.0/0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"securityGroupId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f54f050b-01b2-4a73-b6e1-4e13a5566323"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygrouprules</code></p>

<p>Create a security group rule for a security group.</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>securityGroupId</code><br/><em>UUID</em></td>
<td>The ID of the parent security group</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>ingress</code><br/><em>boolean</em></td>
<td>Direction in which the rule is applied, false implies egress. Defaults to ingress.</td>
</tr>
<tr>
<td><code>protocol</code><br/><em>string</em></td>
<td>The IP protocol, either ICMP, TCP or UDP. Defaults to allow all protocols.</td>
</tr>
<tr>
<td><code>startPort</code><br/><em>int</em></td>
<td>Minimum port that is matched by this rule, required if end port specified. Defaults to 1.</td>
</tr>
<tr>
<td><code>endPort</code><br/><em>int</em></td>
<td>Maximum port that is matched by this rule. Defaults to 65535.</td>
</tr>
<tr>
<td><code>remoteAddress</code><br/><em>string</em></td>
<td>Remote IPs or CIDRs associated with this rule. Defaults to allow all IPs.</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-security-group-rule'>Delete a security group rule</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/securitygrouprules/655d3bcb-3f8a-4738-b50a-53bca43469b5"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/securitygrouprules/:id</code></p>

<p>Delete a security group rule.</p>
<h3 id='openstack-routers'>Routers</h3>
<p>Routers route traffic between networks, including the public internet.</p>
<h4 id='openstack-list-routers'>List routers</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routers"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212eb8d8-80ee-4edd-8bae-1efed8bc5c71"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external-router"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"externalNetworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"167bea1e-f15a-41bd-8d54-44b613bfa36c"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"externalNetworkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public-net"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"networkNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"data"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"networkIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"4beaf851-c0d8-4ab7-9003-3b7c0e59f3d9"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"68f97fb0-6a71-4be1-87bf-1c805940d2cb"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routers</code></p>

<p>Retrieve a list of routers in an OpenStack environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The router&#39;s ID</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The router&#39;s name</td>
</tr>
<tr>
<td><code>networkIds</code><br/><em>Array[UUID]</em></td>
<td>The router&#39;s internal network IDs</td>
</tr>
<tr>
<td><code>networkNames</code><br/><em>Array[string]</em></td>
<td>The router&#39;s internal network names</td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>UUID</em></td>
<td>The router&#39;s external network ID</td>
</tr>
<tr>
<td><code>externalNetworkName</code><br/><em>string</em></td>
<td>The router&#39;s external network name</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-router'>Retrieve a router</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routers/212eb8d8-80ee-4edd-8bae-1efed8bc5c71"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212eb8d8-80ee-4edd-8bae-1efed8bc5c71"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external-router"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"externalNetworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"167bea1e-f15a-41bd-8d54-44b613bfa36c"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"externalNetworkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"public-net"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"networkNames"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"web"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"data"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"networkIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"4beaf851-c0d8-4ab7-9003-3b7c0e59f3d9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"68f97fb0-6a71-4be1-87bf-1c805940d2cb"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routers/:id</code></p>

<p>Retrieve a single router in an OpenStack environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The router&#39;s ID</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The router&#39;s name</td>
</tr>
<tr>
<td><code>networkIds</code><br/><em>Array[UUID]</em></td>
<td>The router&#39;s internal network IDs</td>
</tr>
<tr>
<td><code>networkNames</code><br/><em>Array[string]</em></td>
<td>The router&#39;s internal network names</td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>UUID</em></td>
<td>The router&#39;s external network ID</td>
</tr>
<tr>
<td><code>externalNetworkName</code><br/><em>string</em></td>
<td>The router&#39;s external network name</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-router'>Create a router</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routers"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external-router"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"externalNetworkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"167bea1e-f15a-41bd-8d54-44b613bfa36c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routers</code></p>

<p>Create a router.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The router&#39;s name</td>
</tr>
<tr>
<td><code>externalNetworkId</code><br/><em>UUID</em></td>
<td>The router&#39;s external network ID</td>
</tr>
</tbody></table>
<h4 id='openstack-add-a-router-interface'>Add a router interface</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routers/212eb8d8-80ee-4edd-8bae-1efed8bc5c71?operation=addRouterInterface"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"471eb361-c028-45f5-bd1a-6d05a057624f"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routers/:id?operation=addRouterInterface</code></p>

<p>Connect a router to a network.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The ID of the network to connect</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-router'>Delete a router</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routers/212eb8d8-80ee-4edd-8bae-1efed8bc5c71"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routers/:id</code></p>

<p>Delete a router.</p>
<h3 id='openstack-router-interfaces'>Router interfaces</h3>
<p>Router interfaces connect a router to a network.</p>
<h4 id='openstack-list-router-interfaces'>List router interfaces</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routerinterfaces?routerid=3de4f523-06ce-4955-acb0-b8e3d61ec582"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f0cbbf-45f3-4e77-8a5c-90351f83e5f9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d507486c-eacb-48ff-841e-e3938213d95f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"portId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f0cbbf-45f3-4e77-8a5c-90351f83e5f9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.182.15.1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"routerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3de4f523-06ce-4955-acb0-b8e3d61ec582"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routerinterfaces?routerid=<a href="#routers">:routerid</a></code></p>

<p>Retrieve a list of router interfaces associated with a router in an OpenStack environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The router interface&#39;s ID</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the connected network</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The ID of the connected network</td>
</tr>
<tr>
<td><code>portId</code><br/><em>UUID</em></td>
<td>The ID of the port the interface is connected to (same as interface ID)</td>
</tr>
<tr>
<td><code>privateIp</code><br/><em>string</em></td>
<td>The private IP of the router interface</td>
</tr>
<tr>
<td><code>routerId</code><br/><em>UUID</em></td>
<td>The ID of the parent router</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-router-interface'>Retrieve a router interface</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routerinterfaces/b5f0cbbf-45f3-4e77-8a5c-90351f83e5f9"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f0cbbf-45f3-4e77-8a5c-90351f83e5f9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"networkName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d507486c-eacb-48ff-841e-e3938213d95f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"portId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b5f0cbbf-45f3-4e77-8a5c-90351f83e5f9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"privateIp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.182.15.1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"routerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3de4f523-06ce-4955-acb0-b8e3d61ec582"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routerinterfaces/:id</code></p>

<p>Retrieve a single router interface in an OpenStack environment.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The router interface&#39;s ID</td>
</tr>
<tr>
<td><code>networkName</code><br/><em>string</em></td>
<td>The name of the connected network</td>
</tr>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The ID of the connected network</td>
</tr>
<tr>
<td><code>portId</code><br/><em>UUID</em></td>
<td>The ID of the port the interface is connected to (same as interface ID)</td>
</tr>
<tr>
<td><code>privateIp</code><br/><em>string</em></td>
<td>The private IP of the router interface</td>
</tr>
<tr>
<td><code>routerId</code><br/><em>UUID</em></td>
<td>The ID of the parent router</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-router-interface'>Create a router interface</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routerinterfaces"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"networkId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d507486c-eacb-48ff-841e-e3938213d95f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"routerId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3de4f523-06ce-4955-acb0-b8e3d61ec582"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routerinterfaces</code></p>

<p>Create a router interface.</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>networkId</code><br/><em>UUID</em></td>
<td>The ID of the network that is being connected</td>
</tr>
<tr>
<td><code>routerId</code><br/><em>UUID</em></td>
<td>The ID of the router</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-router-interface'>Delete a router interface</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/routerinterfaces/c14ed06b-6de9-4b3e-aac9-9e6c1406de9e"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/routerinterfaces/:id</code></p>

<p>Delete a router interface.</p>
<h3 id='openstack-ssh-keys'>SSH keys</h3>
<p>SSH keys can be assigned on instance creation to provide SSH access.</p>
<h4 id='openstack-list-ssh-keys'>List SSH keys</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/sshkeys"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17:43:84:aa:a1:ed:6b:aa:10:be:73:1f:63:d0:53:16"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDlf6/L7kuWWyo8y718JXeKKJa5kdT5QT0GcJUVvuLGNAf/Xjwhc9ThaQk+5mBs49hECTTYlOP0J5lb69kpU2fCmRzroazMD8isOh33o7HdNT9F2CWEKCHJ4Qhd40bXf3b4twz43HIo/pkPyJZ7OVC1v39UNvSkh+iNdUkCVZAO9ijAeW4n+F6WSKG1GqZrdElGSMpTM/DMmNo393N3xOcW4Z9qjG7PGdPIgtxqM/wmyyv0id5eV/QkciOaVEgJ7jzQ/iQA1rdEPI7EojLFgaNTIRjp/fQ/BPQ47ZKimwRzns1csupr2BENDpAXqAqHTgSpEyeG/5OvD4oA521fLoiv Generated-by-Nova"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b:36:6b:f7:98:ef:6a:32:bf:c8:19:94:80:c1:44:60"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCnZh9CoR97SY2gA7/JhShzNcxt0VVEi0QMOH/IJZWdu5mtSdJrIvZVTMVVKdae6PUQaYsVt5IImeOZLYiHkUNvvkm291BnKwuymjV9J/CftRs0ZM0X/VhftmROAT5G89Fw57VU6L6bjV4ex7fvAAhr44KJZsgViswOcxJSuwoGmQX15GJAxsSOQ4GthHWJWoifBG0la7+rtAPRUS/qAcCcVuaLNqTalSUtrAytD8J4tswd6UzzPf3MUJWMW36aExwhJW22oHQxvOSot2e36ZFhtHXj1PJs4ZG9mE9JMMz/Y9eIdHMg30vb/YQ5ftsJUs9xjjDD5+fjQxttB1QqqyCp Generated-by-Nova"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys</code></p>

<p>Retrieve a list of SSH keys in an OpenStack domain.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>string</em></td>
<td>The SSH key&#39;s ID which takes the same value as the name</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The SSH key&#39;s name</td>
</tr>
<tr>
<td><code>fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key</td>
</tr>
<tr>
<td><code>publicKey</code><br/><em>string</em></td>
<td>The SSH public key</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-ssh-key'>Retrieve a SSH key</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/sshkeys/ssh-key-a"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17:43:84:aa:a1:ed:6b:aa:10:be:73:1f:63:d0:53:16"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"createDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-06-19T16:19:48.000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDlf6/L7kuWWyo8y718JXeKKJa5kdT5QT0GcJUVvuLGNAf/Xjwhc9ThaQk+5mBs49hECTTYlOP0J5lb69kpU2fCmRzroazMD8isOh33o7HdNT9F2CWEKCHJ4Qhd40bXf3b4twz43HIo/pkPyJZ7OVC1v39UNvSkh+iNdUkCVZAO9ijAeW4n+F6WSKG1GqZrdElGSMpTM/DMmNo393N3xOcW4Z9qjG7PGdPIgtxqM/wmyyv0id5eV/QkciOaVEgJ7jzQ/iQA1rdEPI7EojLFgaNTIRjp/fQ/BPQ47ZKimwRzns1csupr2BENDpAXqAqHTgSpEyeG/5OvD4oA521fLoiv Generated-by-Nova"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys/:id</code></p>

<p>Retrieve a single SSH key in an OpenStack domain.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>string</em></td>
<td>The SSH key&#39;s ID which takes the same value as the name</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The SSH key&#39;s name</td>
</tr>
<tr>
<td><code>fingerprint</code><br/><em>string</em></td>
<td>A short sequence of bytes used to identify the SSH key</td>
</tr>
<tr>
<td><code>createDate</code> <br/> <em>date</em></td>
<td>The date the SSH key was created</td>
</tr>
<tr>
<td><code>publicKey</code><br/><em>string</em></td>
<td>The SSH public key</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-ssh-key'>Create a SSH key</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/sshkeys"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-key-c"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDlf6/L7kuWWyo8y718JXeKKJa5kdT5QT0GcJUVvuLGNAf/Xjwhc9ThaQk+5mBs49hECTTYlOP0J5lb69kpU2fCmRzroazMD8isOh33o7HdNT9F2CWEKCHJ4Qhd40bXf3b4twz43HIo/pkPyJZ7OVC1v39UNvSkh+iNdUkCVZAO9ijAeW4n+F6WSKG1GqZrdElGSMpTM/DMmNo393N3xOcW4Z9qjG7PGdPIgtxqM/wmyyv0id5eV/QkciOaVEgJ7jzQ/iQA1rdEPI7EojLFgaNTIRjp/fQ/BPQ47ZKimwRzns1csupr2BENDpAXqAqHTgSpEyeG/5OvD4oA521fLoiv Generated-by-Nova"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys</code></p>

<p>Create a SSH key.</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The SSH key&#39;s name</td>
</tr>
<tr>
<td><code>publicKey</code><br/><em>string</em></td>
<td>A public SSH key in RSA format</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-ssh-key'>Delete a SSH key</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/sshkeys/ssh-key-c"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/sshkeys/:id</code></p>

<p>Delete a SSH key.</p>
<h3 id='openstack-volumes'>Volumes</h3>
<p>Volumes are block-level storage devices that can be attached to instances.</p>
<h4 id='openstack-list-volumes'>List volumes</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-data"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Storage for the web server"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sizeInGB"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes</code></p>

<p>Retrieve a list of volumes</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The volume&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The volume name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The volume&#39;s description</td>
</tr>
<tr>
<td><code>sizeInGB</code><br/><em>integer</em></td>
<td>The volume&#39;s size in GB</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The volume&#39;s state</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-volume'>Retrieve a volume</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes/52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-data"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Storage for the web server"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sizeInGB"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id</code></p>

<p>Retrieve a volume</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The volume&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The volume name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The volume&#39;s description</td>
</tr>
<tr>
<td><code>sizeInGB</code><br/><em>integer</em></td>
<td>The volume&#39;s size in GB</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The volume&#39;s state</td>
</tr>
</tbody></table>
<h4 id='openstack-create-a-volume'>Create a volume</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mysql"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Production MySQL data"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"sizeInGB"</span><span class="p">:</span><span class="mi">20</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes</code></p>

<p>Create a volume</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The volume name</td>
</tr>
<tr>
<td><code>description</code><br/><em>string</em></td>
<td>The volume description</td>
</tr>
<tr>
<td><code>sizeInGB</code><br/><em>integer</em></td>
<td>The volume&#39;s size in GB</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Optional</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>volume</code><br/><em>Volume</em></td>
<td>A volume object containing either <code>id</code> or <code>sizeInGB</code>. If an <code>id</code> is provided, it will attach the existing volume to the instance after creation. If the <code>sizeInGB</code> is provided, it will create a new volume and attach it to the instance after creation.</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-volume'>Delete a volume</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes/52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id</code></p>

<p>Delete a volume</p>
<h4 id='openstack-attach-a-volume-to-an-instance'>Attach a volume to an instance</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
    -d <span class="s2">"request_body"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes/52cfc2f8-5b1f-4833-83cd-a77f55c5ed24?operation=attach"</span>
<span class="c"># Request should look like this:</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"instanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"449efafc-0a6f-4f9e-9602-4b9ac2400abd"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id?operation=attach</code></p>

<p>Attach a volume to an instance</p>

<table><thead>
<tr>
<th>Required attributes</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>instanceId</code><br/><em>UUID</em></td>
<td>The instance id</td>
</tr>
</tbody></table>
<h4 id='openstack-detach-a-volume-from-an-instance'>Detach a volume from an instance</h4><pre class="highlight shell tab-shell"><code>curl -X POST <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/volumes/52cfc2f8-5b1f-4833-83cd-a77f55c5ed24?operation=detach"</span>
</code></pre>
<p><code>POST /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/volumes/:id?operation=detach</code></p>

<p>Detach a volume from an instance</p>
<h3 id='openstack-snapshots'>Snapshots</h3>
<p>Snapshots are point in time copies of volumes that can be used to create other volumes.</p>
<h4 id='openstack-list-snapshots'>List Snapshots</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/snapshots"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b41c7de-b2a8-4cb7-82ce-46685b07921d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s-web-data-CJ6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"volumeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-data"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sizeInGB"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"recordCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots</code></p>

<p>Retrieve a list of snapshots.</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The snapshot&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The snapshot name</td>
</tr>
<tr>
<td><code>volumeId</code><br/><em>UUID</em></td>
<td>The volume&#39;s id</td>
</tr>
<tr>
<td><code>volumeName</code><br/><em>string</em></td>
<td>The volume&#39;s name</td>
</tr>
<tr>
<td><code>sizeInGB</code><br/><em>integer</em></td>
<td>The snapshot&#39;s size in GB</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The snapshot&#39;s state</td>
</tr>
</tbody></table>
<h4 id='openstack-retrieve-a-snapshot'>Retrieve a snapshot</h4><pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/snapshots/4b41c7de-b2a8-4cb7-82ce-46685b07921d"</span>

Response body:
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4b41c7de-b2a8-4cb7-82ce-46685b07921d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s-web-data-CJ6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volumeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52cfc2f8-5b1f-4833-83cd-a77f55c5ed24"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volumeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"web-data"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sizeInGB"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots/:id</code></p>

<p>Retrieve information about a snapshot</p>

<table><thead>
<tr>
<th>Attributes</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code><br/><em>UUID</em></td>
<td>The snapshot&#39;s id</td>
</tr>
<tr>
<td><code>name</code><br/><em>string</em></td>
<td>The snapshot name</td>
</tr>
<tr>
<td><code>volumeId</code><br/><em>UUID</em></td>
<td>The volume&#39;s id</td>
</tr>
<tr>
<td><code>volumeName</code><br/><em>string</em></td>
<td>The volume&#39;s name</td>
</tr>
<tr>
<td><code>sizeInGB</code><br/><em>integer</em></td>
<td>The snapshot&#39;s size in GB</td>
</tr>
<tr>
<td><code>state</code><br/><em>string</em></td>
<td>The snapshot&#39;s state</td>
</tr>
</tbody></table>
<h4 id='openstack-delete-a-snapshot'>Delete a snapshot</h4><pre class="highlight shell tab-shell"><code>curl -X DELETE <span class="se">\</span>
    -H <span class="s2">"MC-Api-Key: your_api_key"</span> <span class="se">\</span>
    <span class="s2">"https://api.your.cloudmc/v1/services/compute-os/devel/snapshots/4b41c7de-b2a8-4cb7-82ce-46685b07921d"</span>
</code></pre>
<p><code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots/:id</code></p>

<p>Delete a snapshot.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="js">js</a>
          </div>
      </div>
    </div>
  </body>
</html>
